<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="A new obsession Picture this: middle of July, a warm sunny day relaxing on the beach with a few friends. Adele, a friend of mine, takes out a Sudoku magazine from her purse. It catches my eye, and I immediately ask her:\n&ldquo;Hey Adi1, does it have Kropkis?&rdquo;\n&ldquo;Of course it does!&rdquo; she smirks at me.\nKropkis are a recent drug for us. They are a variant of Sudoku with the addition that between each pair of neighboring cells there may be a dot, either white or black2.\n"><title>Generating Kropkis</title>
<link rel=canonical href=http://giovanniberti.github.io/post/generating-kropkis/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Generating Kropkis"><meta property='og:description' content="A new obsession Picture this: middle of July, a warm sunny day relaxing on the beach with a few friends. Adele, a friend of mine, takes out a Sudoku magazine from her purse. It catches my eye, and I immediately ask her:\n&ldquo;Hey Adi1, does it have Kropkis?&rdquo;\n&ldquo;Of course it does!&rdquo; she smirks at me.\nKropkis are a recent drug for us. They are a variant of Sudoku with the addition that between each pair of neighboring cells there may be a dot, either white or black2.\n"><meta property='og:url' content='http://giovanniberti.github.io/post/generating-kropkis/'><meta property='og:site_name' content='Random Walks'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2023-12-08T00:00:00+00:00'><meta property='article:modified_time' content='2023-12-08T00:00:00+00:00'><meta property='og:image' content='http://giovanniberti.github.io/post/generating-kropkis/beach.jpg'><meta name=twitter:title content="Generating Kropkis"><meta name=twitter:description content="A new obsession Picture this: middle of July, a warm sunny day relaxing on the beach with a few friends. Adele, a friend of mine, takes out a Sudoku magazine from her purse. It catches my eye, and I immediately ask her:\n&ldquo;Hey Adi1, does it have Kropkis?&rdquo;\n&ldquo;Of course it does!&rdquo; she smirks at me.\nKropkis are a recent drug for us. They are a variant of Sudoku with the addition that between each pair of neighboring cells there may be a dot, either white or black2.\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='http://giovanniberti.github.io/post/generating-kropkis/beach.jpg'><style>:root{--code-font-family:"JetBrains Mono"}p{font-family:atkinson hyperlegible,var(--article-font-family)}</style><link rel=stylesheet href=/scss/notice.css><link rel=stylesheet href=/scss/tippy.css><link rel=stylesheet href=/scss/equation.css><link rel=stylesheet href=/scss/svg.css><script type=text/javascript src=/ts/tippy.js defer></script><script src=https://unpkg.com/@popperjs/core@2></script><script src=https://unpkg.com/tippy.js@6></script><link rel=stylesheet href=https://unpkg.com/tippy.js@6/themes/light.css><link rel=stylesheet href=https://unpkg.com/tippy.js@6/themes/light-border.css><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&family=JetBrains+Mono&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_5654dee06471b930.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Random Walks</a></h1><h2 class=site-description>A blog about software</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About me</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=https://github.com/giovanniberti><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
<span>GitHub</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#a-new-obsession>A new obsession</a></li><li><a href=#tackling-the-problem>Tackling the problem</a><ol><li><a href=#searching-for-a-solution>Searching for a solution</a></li><li><a href=#minimizing-a-solution>Minimizing a solution</a></li></ol></li><li><a href=#squeezing-performance>Squeezing performance</a></li><li><a href=#tying-everything-together>Tying everything together</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/generating-kropkis/><img src=/post/generating-kropkis/beach_hu_f3e8c4c3cae4b3a.jpg srcset="/post/generating-kropkis/beach_hu_f3e8c4c3cae4b3a.jpg 800w, /post/generating-kropkis/beach_hu_806fa5bdd8072da.jpg 1600w" width=800 height=518 loading=lazy alt="Featured image of post Generating Kropkis"></a></div><div class=article-details><header class=article-category><a href=/categories/csp/ style=background-color:#2a9d8f;color:#fff>Constraint Satisfaction Problem
</a><a href=/categories/search/ style=background-color:#85144b;color:#fff>Search
</a><a href=/categories/python/ style=background-color:#0074d9;color:#fff>Python</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/generating-kropkis/>Generating Kropkis</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Dec 08, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>16 minute read</time></div></footer></div></header><section class=article-content><h1 id=a-new-obsession>A new obsession</h1><p>Picture this: middle of July, a warm sunny day relaxing on the beach with a few friends.
Adele, a friend of mine, takes out a Sudoku magazine from her purse.
It catches my eye, and I immediately ask her:</p><p>&ldquo;Hey <em>Adi</em><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, does it have Kropkis?&rdquo;</p><p>&ldquo;Of course it does!&rdquo; she smirks at me.</p><p>Kropkis are a recent drug for us. They are a variant of Sudoku with the addition that
between each pair of neighboring cells there may be a dot, either white or black<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>.</p><p>If the dot is black, it means that the values in the cells must be one the double of the other,
while if it is white it means that the values must be consecutive (in either order). If no dot is present,
it means the values are neither doubles nor consecutives.</p><p>After solving the only two Kropkis in the entire magazine, she tells me: &ldquo;It&rsquo;s a pity
there aren&rsquo;t any other Kropkis in here.&rdquo;</p><p>To which I replied: &ldquo;You know, I could write a program that generates them&mldr;&rdquo; &#x1f609;</p><p><img src=/post/generating-kropkis/kropki_example.png width=858 height=854 srcset="/post/generating-kropkis/kropki_example_hu_43c8bec86de58dca.png 480w, /post/generating-kropkis/kropki_example_hu_f711b235f3cff32a.png 1024w" loading=lazy alt="An example of Kropki" class=gallery-image data-flex-grow=100 data-flex-basis=241px></p><h1 id=tackling-the-problem>Tackling the problem</h1><p>We don&rsquo;t have a direct way of building Kropkis (by &ldquo;direct way&rdquo; I mean a formula or a specific algorithm).
One way to get around this is to <em>search</em> for a Kropki <em>solution</em> and then to minimize the number of hints
to have a playable Kropki.</p><p>Note that minimizing the number of hints has to account for uniqueness: we don&rsquo;t want a Kropki that has multiple solutions! &#x1f642;</p><div class="notice note"><div><span style=inline-size:1em><svg class="icon icon-tabler icon-tabler-bulb-filled" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 11a1 1 0 01.117 1.993L4 13H3a1 1 0 01-.117-1.993L3 11h1z" stroke-width="0" fill="currentcolor"/><path d="M12 2a1 1 0 01.993.883L13 3v1a1 1 0 01-1.993.117L11 4V3a1 1 0 011-1z" stroke-width="0" fill="currentcolor"/><path d="M21 11a1 1 0 01.117 1.993L21 13h-1a1 1 0 01-.117-1.993L20 11h1z" stroke-width="0" fill="currentcolor"/><path d="M4.893 4.893a1 1 0 011.32-.083l.094.083.7.7A1 1 0 015.687 7.09l-.094-.083-.7-.7a1 1 0 010-1.414z" stroke-width="0" fill="currentcolor"/><path d="M17.693 4.893a1 1 0 011.497 1.32l-.083.094-.7.7a1 1 0 01-1.497-1.32l.083-.094.7-.7z" stroke-width="0" fill="currentcolor"/><path d="M14 18a1 1 0 011 1 3 3 0 01-6 0 1 1 0 01.883-.993L10 18h4z" stroke-width="0" fill="currentcolor"/><path d="M12 6a6 6 0 013.6 10.8 1 1 0 01-.471.192L15 17H9a1 1 0 01-.6-.2A6 6 0 0112 6z" stroke-width="0" fill="currentcolor"/></svg></span><b class=notice-title>What about Sudokus?</b></div><p>Here I&rsquo;m talking about Kropkis, but the strategy outlined above works just as well for Sudokus!</p><p>The only difference between Sudoku generation and Kropki generation is how we check for uniqueness:
hints are sufficient for Sudokus, while in Kropkis we have to add the dot constraints from the original solution.</p></div><h2 id=searching-for-a-solution>Searching for a solution</h2><p>From a mathematical point of view, the problem of generating a Kropki solution can be thought of a kind of <a class=link href=https://en.wikipedia.org/wiki/Constraint_satisfaction_problem target=_blank rel=noopener>Constraint Satisfaction Problem (CSP)</a>. In a CSP you have a set of variables, $x_1, \dots, x_n$, each with a domain of possible values $D_1, \dots, D_n$, and you want to find a value for each variable that is inside the respective domain and satisfies some constraints $f_1(x_1), \dots, f_n(x_n)$. We can collectively call the collection of variables, domains and constraints $(\mathbf{x}, \mathbf{D}, \mathbf{f})$ a <em>model</em> for a particular problem (I know this is very abstract, we&rsquo;re going back to Kropkis very soon).</p><p>Generally speaking, for a given problem you can produce many different models (it largely depends on the meaning you assign to variables).
For Kropkis, we can encode the problem of finding a solution with the following model:</p><div class=equation>$$
\begin{align*}
S &= {0, 1, \dots, 8} \\ \\
    V &= {1, 2, \dots, 9} \\ \\
x_{ij} &\in V \quad \forall i, j \in S \\ \\
x_{ij} &\neq x_{ik} \quad &\forall i, j, k \in S, \;j \neq k \tag{1} \\ \\
x_{ji} &\neq x_{ki} \quad &\forall i, j, k \in S, \;j \neq k \tag{2} \\ \\
x_{st} &\neq x_{uv} \quad &\forall s = 3k + i, \tag{3} \\
&& u = 3k + j, \\
    && t = 3l + m, \\
&& v = 3l + n, \\
    && (i, m) \neq (j, n), \\
&& i, j, k, l, m, n \in \{0, 1, 2\} \\
\end{align*}
$$</div><p>I know, it looks like gibberish. But this <em>compact</em> and <em>elegant</em> gibberish contains all the information
we need to define what a Kropki is.</p><p>Translated back into English, the model says the following:</p><ul><li>We have a set $S$ of coordinates (starting from zero because I&rsquo;m a software engineer)</li><li>We have a set $V$ of possible values (1 to 9)</li><li>We have a variable $x$ that contains our solution</li><li>Constraint $(1)$ says that for each row $i$ all values must be different (note that $x_{ij}$ stands for &ldquo;the value at coordinate with row $i$ and column $j$&rdquo;)</li><li>Constraint $(2)$ says that for each column $i$ all values must be different</li><li>Constraint $(3)$ says that for each block all values must be different. The trick is correctly encoding what a block is with indices, and you can convince yourself that the above equations work with the following diagram, where a single block is effectively identified by a pair of indices $(k, l)$:</li></ul><svg class="article-svg" viewBox="0 0 451.1 430.32"><g fill="currentcolor" transform="translate(-204.02 -416.71)"><g fill="none" stroke="currentcolor" stroke-miterlimit="10"><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m0 0h255.12M0 28.347h255.12M0 56.694h255.12M0 85.041h255.12M0 113.388h255.12M0 141.735h255.12M0 170.082h255.12M0 198.429h255.12M0 226.776h255.12M0 255.113h255.12m-255.12-255.11v255.12m28.347-255.12v255.12m28.347-255.12v255.12m28.347-255.12v255.12m28.347-255.12v255.12m28.347-255.12v255.12m28.347-255.12v255.12m28.347-255.12v255.12m28.347-255.12v255.12m28.337-255.12v255.12" stroke-width=".19925"/><g stroke-width="1.4173"><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m0 0v255.12M0 0h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m0 0v255.12M0 85.04h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m0 0v255.12m0-85.04h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m0 0v255.12h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m85.04.0v255.12M0 0h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m85.04.0v255.12M0 85.04h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m85.04.0v255.12M0 170.08h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m85.04.0v255.12m-85.04.0h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m170.08.0v255.12M0 0h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m170.08.0v255.12M0 85.04h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m170.08.0v255.12M0 170.08h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m170.08.0v255.12M0 255.12h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m255.12.0v255.12M0 0h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m255.12.0v255.12M0 85.04h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m255.12.0v255.12M0 170.08h255.12"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m255.12.0v255.12M0 255.12h255.12"/></g></g><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m-9.8291 170.35c-2.3911 1.1955-3.521 3.7178-3.521 7.7029.0.78903-1.1955.78903-1.1955.0.0-3.9851 2.0581-7.0421 4.4492-8.2376.35288-.17644.62018.35822.26732.53466"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m-18.067 212.33c2.3911-1.1955 3.521-3.7178 3.521-7.7029.0-.78904 1.1955-.78904 1.1955.0.0 3.9851-2.0581 7.0421-4.4492 8.2376-.35287.17642-.62018-.35824-.26732-.53468"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m-13.948 178.05v26.58" fill="none" stroke="currentcolor" stroke-miterlimit="10" stroke-width="1.1955"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m-17.799 212.33c2.3911 1.1955 4.4492 4.2524 4.4492 8.2376.0.78905-1.1955.78905-1.1955.0.0-3.9851-1.1299-6.5074-3.521-7.7029-.35286-.17644-.08555-.7111.26732-.53468"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m-10.096 255.39c-2.3911-1.1955-4.4492-4.2524-4.4492-8.2376.0-.78903 1.1955-.78903 1.1955.0.0 3.9851 1.1299 6.5074 3.521 7.7029.35286.17644.08556.71109-.26732.53465"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m-13.948 220.57v26.58" fill="none" stroke="currentcolor" stroke-miterlimit="10" stroke-width="1.1955"/><g transform="matrix(1.3333 0 0 1.3333 202.71 521.81)" aria-label="(0,0)"><path d="m3.2932 2.3901c0-.035156.0-.046875-.16406-.22266-1.2422-1.2539-1.5703-3.1289-1.5703-4.6641.0-1.7227.38672-3.457 1.6055-4.7109.12891-.11719.12891-.12891.12891-.16406.0-.070312-.035156-.10547-.09375-.10547-.10547.0-.99609.67969-1.582 1.9453-.51562 1.1016-.63281 2.2031-.63281 3.0352.0.78516.11719 1.9922.65625 3.1172.59766 1.2188 1.4531 1.875 1.5586 1.875.058594.0.09375-.035156.09375-.10547zM8.4553-3.188c0-.79688-.046875-1.5938-.39844-2.332-.45703-.96094-1.2773-1.1133-1.6875-1.1133-.59766.0-1.3359.25781-1.7344 1.1836-.32812.69141-.375 1.4648-.375 2.2617.0.75.046875 1.6406.44531 2.4023.43359.80859 1.1602 1.0078 1.6523 1.0078.53906.0 1.2891-.21094 1.7344-1.1602.31641-.69141.36328-1.4648.36328-2.25zm-2.0977 3.1875c-.38672.0-.98438-.24609-1.1602-1.207-.10547-.59766-.10547-1.5117-.10547-2.0977.0-.64453.0-1.3008.082031-1.8398.1875-1.1836.92578-1.2656 1.1836-1.2656.32812.0.98438.17578 1.1719 1.1602.09375.5625.09375 1.3125.09375 1.9453.0.75.0 1.418-.10547 2.0625-.15234.9375-.71484 1.2422-1.1602 1.2422z"/><path d="m10.884-.012273c0-.65625-.25781-1.043-.64453-1.043-.32813.0-.52734.24609-.52734.52734.0.26953.19922.52734.52734.52734.11719.0.24609-.035156.35156-.12891.02344-.023438.03516-.035156.04687-.035156.01172.0.02344.011719.02344.15234.0.73828-.35156 1.3359-.67969 1.6641-.10547.10547-.10547.12891-.10547.16406.0.070312.046875.10547.09375.10547.11719.0.91406-.76172.91406-1.9336z"/><path d="m17.865-3.1881c0-.79688-.04687-1.5938-.39844-2.332-.45703-.96094-1.2773-1.1133-1.6875-1.1133-.59766.0-1.3359.25781-1.7344 1.1836-.32812.69141-.375 1.4648-.375 2.2617.0.75.04687 1.6406.44531 2.4023.43359.80859 1.1602 1.0078 1.6523 1.0078.53906.0 1.2891-.21094 1.7344-1.1602.31641-.69141.36328-1.4648.36328-2.25zm-2.0977 3.1875c-.38672.0-.98438-.24609-1.1602-1.207-.10547-.59766-.10547-1.5117-.10547-2.0977.0-.64453.0-1.3008.08203-1.8398.1875-1.1836.92578-1.2656 1.1836-1.2656.32812.0.98438.17578 1.1719 1.1602.09375.5625.09375 1.3125.09375 1.9453.0.75.0 1.418-.10547 2.0625-.15234.9375-.71484 1.2422-1.1602 1.2422zm5.3789-2.4961c0-.77344-.11719-1.9805-.65625-3.1055-.59766-1.2188-1.4648-1.875-1.5586-1.875-.05859.0-.10547.046875-.10547.10547.0.035156.0.046875.19922.23438.97266.98438 1.5352 2.5664 1.5352 4.6406.0 1.7109-.36328 3.457-1.5938 4.7227-.14062.11719-.14062.12891-.14062.16406.0.058594.04687.10547.10547.10547.09375.0.99609-.67969 1.582-1.9453.50391-1.1016.63281-2.2031.63281-3.0469z"/></g><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m85.308 264.95c1.1955 2.3911 3.7178 3.521 7.7029 3.521.78904.0.78904 1.1956.0 1.1956-3.9851.0-7.0421-2.0581-8.2375-4.4492-.17644-.35288.35822-.6202.53465-.26732"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m127.29 273.19c-1.1955-2.3911-3.7178-3.521-7.7029-3.521-.78903.0-.78903-1.1956.0-1.1956 3.9851.0 7.0421 2.0581 8.2376 4.4492.17644.35288-.35822.62018-.53466.26732"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m93.011 269.07h26.58" fill="none" stroke="currentcolor" stroke-miterlimit="10" stroke-width="1.1955"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m127.29 272.92c1.1955-2.3911 4.2524-4.4492 8.2375-4.4492.78905.0.78905 1.1956.0 1.1956-3.9851.0-6.5074 1.1299-7.7029 3.521-.17644.35286-.71109.0856-.53466-.26732"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m170.35 265.22c-1.1955 2.3911-4.2524 4.4492-8.2375 4.4492-.78904.0-.78904-1.1956.0-1.1956 3.9851.0 6.5074-1.1299 7.7029-3.521.17644-.35288.71109-.0856.53466.26732"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m135.53 269.07h26.58" fill="none" stroke="currentcolor" stroke-miterlimit="10" stroke-width="1.1955"/><g transform="matrix(1.3333 0 0 1.3333 419.34 426.68)" aria-label="(0,1)"><path d="m3.2929 2.3913c0-.035156.0-.046875-.16406-.22266-1.2422-1.2539-1.5703-3.1289-1.5703-4.6641.0-1.7227.38672-3.457 1.6055-4.7109.12891-.11719.12891-.12891.12891-.16406.0-.070312-.035156-.10547-.09375-.10547-.10547.0-.99609.67969-1.582 1.9453-.51562 1.1016-.63281 2.2031-.63281 3.0352.0.78516.11719 1.9922.65625 3.1172.59766 1.2188 1.4531 1.875 1.5586 1.875.058594.0.09375-.035156.09375-.10547zm5.165-5.5781c0-.79688-.046875-1.5938-.39844-2.332-.45703-.96094-1.2773-1.1133-1.6875-1.1133-.59766.0-1.3359.25781-1.7344 1.1836-.32812.69141-.375 1.4648-.375 2.2617.0.75.046875 1.6406.44531 2.4023.43359.80859 1.1602 1.0078 1.6523 1.0078.53906.0 1.2891-.21094 1.7344-1.1602.31641-.69141.36328-1.4648.36328-2.25zm-2.0977 3.1875c-.38672.0-.98438-.24609-1.1602-1.207-.10547-.59766-.10547-1.5117-.10547-2.0977.0-.64453.0-1.3008.082031-1.8398.1875-1.1836.92578-1.2656 1.1836-1.2656.32812.0.98438.17578 1.1719 1.1602.09375.5625.09375 1.3125.09375 1.9453.0.75.0 1.418-.10547 2.0625-.15234.9375-.71484 1.2422-1.1602 1.2422z"/><path d="m10.884-.011023c0-.65625-.25781-1.043-.64453-1.043-.32813.0-.52734.24609-.52734.52734.0.26953.19922.52734.52734.52734.11719.0.24609-.035156.35156-.12891.02344-.023438.03516-.035156.04687-.035156.01172.0.02344.011719.02344.15234.0.73828-.35156 1.3359-.67969 1.6641-.10547.10547-.10547.12891-.10547.16406.0.070312.046875.10547.09375.10547.11719.0.91406-.76172.91406-1.9336z"/><path d="m16.213-6.3743c0-.23438.0-.25781-.23438-.25781-.60938.63281-1.4883.63281-1.8047.63281v.31641c.19922.0.78516.0 1.3008-.25781v5.1562c0 .35156-.03516.48047-.92578.48047h-.31641v.30469c.35156-.035156 1.207-.035156 1.6055-.035156.39844.0 1.2656.0 1.6172.035156v-.30469h-.31641c-.90234.0-.92578-.11719-.92578-.48047zm4.9365 3.8789c0-.77344-.11719-1.9805-.65625-3.1055-.59766-1.2188-1.4648-1.875-1.5586-1.875-.05859.0-.10547.046875-.10547.10547.0.035156.0.046875.19922.23438.97266.98438 1.5352 2.5664 1.5352 4.6406.0 1.7109-.36328 3.457-1.5938 4.7227-.14062.11719-.14062.12891-.14062.16406.0.058594.04687.10547.10547.10547.09375.0.99609-.67969 1.582-1.9453.50391-1.1016.63281-2.2031.63281-3.0469z"/></g><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m169.81-10.096c1.1955-2.3911 4.2524-4.4492 8.2376-4.4492.78903.0.78903 1.1955.0 1.1955-3.9851.0-6.5074 1.1299-7.7029 3.521-.17644.35286-.7111.08556-.53466-.26732"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m212.87-17.799c-1.1955 2.3911-4.2524 4.4492-8.2376 4.4492-.78904.0-.78904-1.1955.0-1.1955 3.9851.0 6.5074-1.1299 7.7029-3.521.17644-.35286.7111-.08555.53468.26732"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m178.05-13.948h26.58" fill="none" stroke="currentcolor" stroke-miterlimit="10" stroke-width="1.1955"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m212.87-18.067c1.1955 2.3911 3.7178 3.521 7.7029 3.521.78905.0.78905 1.1955.0 1.1955-3.9851.0-7.042-2.0581-8.2376-4.4492-.17642-.35287.35824-.62018.53468-.26732"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m254.85-9.8291c-1.1955-2.3911-3.7178-3.521-7.7029-3.521-.78903.0-.78903-1.1955.0-1.1955 3.9851.0 7.0421 2.0581 8.2376 4.4492.17644.35288-.35821.62018-.53465.26732"/><path transform="matrix(1.3333 0 0 -1.3333 264.02 801.95)" d="m220.57-13.948h26.58" fill="none" stroke="currentcolor" stroke-miterlimit="10" stroke-width="1.1955"/><g transform="matrix(1.3333 0 0 1.3333 532.73 843.71)" aria-label="(2,2)"><path d="m3.2939 2.3909c0-.035156.0-.046875-.16406-.22266-1.2422-1.2539-1.5703-3.1289-1.5703-4.6641.0-1.7227.38672-3.457 1.6055-4.7109.12891-.11719.12891-.12891.12891-.16406.0-.070312-.035156-.10547-.09375-.10547-.10547.0-.99609.67969-1.582 1.9453-.51562 1.1016-.63281 2.2031-.63281 3.0352.0.78516.11719 1.9922.65625 3.1172.59766 1.2188 1.4531 1.875 1.5586 1.875.058594.0.09375-.035156.09375-.10547zM5.1396-.7614l1.0547-1.0312c1.5586-1.3711 2.1562-1.9102 2.1562-2.9062.0-1.1367-.90234-1.9336-2.1211-1.9336-1.125.0-1.8516.91406-1.8516 1.8047.0.55078.49219.55078.52734.55078.16406.0.51562-.11719.51562-.52734.0-.25781-.1875-.51562-.52734-.51562-.082031.0-.10547.0-.12891.011719.22266-.64453.76172-1.0195 1.3359-1.0195.91406.0 1.3359.80859 1.3359 1.6289.0.79688-.49219 1.582-1.043 2.2031l-1.9102 2.1328c-.10547.10547-.10547.12891-.10547.36328h3.6914l.28125-1.7344h-.25781c-.046875.30469-.11719.73828-.21094.89063-.070312.082031-.72656.082031-.94922.082031z"/><path d="m10.885-.011445c0-.65625-.25781-1.043-.64453-1.043-.32813.0-.52734.24609-.52734.52734.0.26953.19922.52734.52734.52734.11719.0.24609-.035156.35156-.12891.02344-.023438.03516-.035156.04687-.035156.01172.0.02344.011719.02344.15234.0.73828-.35156 1.3359-.67969 1.6641-.10547.10547-.10547.12891-.10547.16406.0.070312.046875.10547.09375.10547.11719.0.91406-.76172.91406-1.9336z"/><path d="m14.55-.76145 1.0547-1.0312c1.5586-1.3711 2.1562-1.9102 2.1562-2.9062.0-1.1367-.90234-1.9336-2.1211-1.9336-1.125.0-1.8516.91406-1.8516 1.8047.0.55078.49219.55078.52734.55078.16406.0.51562-.11719.51562-.52734.0-.25781-.1875-.51562-.52734-.51562-.08203.0-.10547.0-.12891.011719.22266-.64453.76172-1.0195 1.3359-1.0195.91406.0 1.3359.80859 1.3359 1.6289.0.79688-.49219 1.582-1.043 2.2031l-1.9102 2.1328c-.10547.10547-.10547.12891-.10547.36328h3.6914l.28125-1.7344h-.25781c-.04687.30469-.11719.73828-.21094.89063-.07031.082031-.72656.082031-.94922.082031zm6.5977-1.7344c0-.77344-.11719-1.9805-.65625-3.1055-.59766-1.2188-1.4648-1.875-1.5586-1.875-.05859.0-.10547.046875-.10547.10547.0.035156.0.046875.19922.23438.97266.98438 1.5352 2.5664 1.5352 4.6406.0 1.7109-.36328 3.457-1.5938 4.7227-.14062.11719-.14062.12891-.14062.16406.0.058594.04687.10547.10547.10547.09375.0.99609-.67969 1.582-1.9453.50391-1.1016.63281-2.2031.63281-3.0469z"/></g></g></svg><br><p>This is how mathematically a Kropki solution is defined. It&rsquo;s the same as the set of rules you can find in any magazine, just not in English &#x1f643;. Note that the model did not mention anything about the dots, because <strong>every Sudoku solution is a Kropki solution</strong>.
The dots are just &ldquo;cosmetic&rdquo; and do not alter the solution landscape in any significant way.</p><div class="notice info"><div><span style=inline-size:1em><svg class="icon icon-tabler icon-tabler-info-circle-filled" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 2c5.523.0 10 4.477 10 10a10 10 0 01-19.995.324L2 12l.004-.28C2.152 6.327 6.57 2 12 2zm0 9h-1l-.117.007a1 1 0 000 1.986L11 13v3l.007.117a1 1 0 00.876.876L12 17h1l.117-.007a1 1 0 00.876-.876L14 16l-.007-.117a1 1 0 00-.764-.857l-.112-.02L13 15v-3l-.007-.117a1 1 0 00-.876-.876L12 11zm.01-3-.127.007a1 1 0 000 1.986L12 10l.127-.007a1 1 0 000-1.986L12.01 8z" stroke-width="0" fill="currentcolor"/></svg></span><b class=notice-title>Dots and solutions</b></div><p>Note that the fact that dots do not alter the model is true only because we are interested in <em>any</em>
Kropki solution.</p><p>If we were looking for a solution to a <em>specific</em> Kropki, we would need to encode the various value constraints
(e.g. &ldquo;cell at $(1, 2)$ has value 8) as well as dot constraints (e.g. &ldquo;there is a black dot between cells at $(2, 3)$ and $(2, 4)$&rdquo;),
and we would have a different model.</p></div><p>Once we do have a model, we can just write a program for a CSP solver and ask for a solution. Easy peasy!</p><p>I chose to write the program in Python and leveraged the awesome <a class=link href=https://cpmpy.readthedocs.io/ target=_blank rel=noopener>CPMpy</a> library to solve the model.
All in all the model itself is fairly short:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>cpmpy</span> <span class=k>as</span> <span class=nn>cp</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>itertools</span> <span class=kn>import</span> <span class=n>product</span><span class=p>,</span> <span class=n>chain</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>grid</span> <span class=o>=</span> <span class=n>cp</span><span class=o>.</span><span class=n>intvar</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=n>shape</span><span class=o>=</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>9</span><span class=p>))</span> <span class=c1># our `x`</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># (1)</span>
</span></span><span class=line><span class=cl><span class=n>all_different_in_row</span> <span class=o>=</span> <span class=p>(</span><span class=n>cp</span><span class=o>.</span><span class=n>AllDifferent</span><span class=p>(</span><span class=o>*</span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=n>r</span><span class=p>,</span> <span class=n>i</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>9</span><span class=p>)))</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>9</span><span class=p>))</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># (2)</span>
</span></span><span class=line><span class=cl><span class=n>all_different_in_col</span> <span class=o>=</span> <span class=p>(</span><span class=n>cp</span><span class=o>.</span><span class=n>AllDifferent</span><span class=p>(</span><span class=o>*</span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=n>i</span><span class=p>,</span> <span class=n>c</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>9</span><span class=p>)))</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>9</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># (3)</span>
</span></span><span class=line><span class=cl><span class=n>block_intervals</span> <span class=o>=</span> <span class=p>[</span><span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>)),</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>6</span><span class=p>)),</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=mi>9</span><span class=p>))]</span>
</span></span><span class=line><span class=cl><span class=n>all_different_in_block</span> <span class=o>=</span> <span class=p>(</span><span class=n>cp</span><span class=o>.</span><span class=n>AllDifferent</span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=n>r</span><span class=p>,</span> <span class=n>c</span><span class=p>]</span> <span class=k>for</span> <span class=n>r</span><span class=p>,</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>product</span><span class=p>(</span><span class=o>*</span><span class=n>block</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                            <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=n>product</span><span class=p>(</span><span class=n>block_intervals</span><span class=p>,</span> <span class=n>block_intervals</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>cp</span><span class=o>.</span><span class=n>Model</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>chain</span><span class=p>(</span><span class=n>all_different_in_row</span><span class=p>,</span> <span class=n>all_different_in_col</span><span class=p>,</span> <span class=n>all_different_in_block</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span> <span class=o>+=</span> <span class=n>c</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Here&#39;s a solution</span>
</span></span><span class=line><span class=cl><span class=n>model</span><span class=o>.</span><span class=n>solve</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Solution: </span><span class=si>{</span><span class=n>grid</span><span class=o>.</span><span class=n>value</span><span class=p>()</span><span class=si>=}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Probably not the kind of code I would write for anything serious like a banking platform or a healthcare device,
but for our purposes it does the job just fine.</p><h2 id=minimizing-a-solution>Minimizing a solution</h2><p>With the above piece of code we can easily get a solved Kropki. But we don&rsquo;t want a solved Kropki.
We want a <strong>solvable</strong> Kropki.</p><p>Getting something we can play with means removing as much hints as possible (and drawing all the dots required by Kropki rules).</p><p>At the same time, we have to be careful when choosing what hint to remove: we can&rsquo;t remove any hint if it means that the
resulting Kropki has multiple solutions.
Also, nothing says that we can&rsquo;t start the other way around: from a blank grid we <em>add</em> hints from the solution we computed before
until we have a Kropki with a unique solution.
I&rsquo;ll call these the <strong>subtractive</strong> and <strong>additive</strong> approaches respectively.</p><p>Whathever the approach we choose, we still don&rsquo;t have any concrete idea on how to find a playable solution.
If we take the subtractive approach as an example, we could imagine that we start with a full Kropki grid and can select 81 possible
hints for removal. For any first hint we remove, we can then check if the solution is <em>minimal</em><sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> (i.e. no other hints can be removed such that the solution is unique) and select another hint if it&rsquo;s not.</p><svg class="article-svg" viewBox="0 0 224.83 76.625" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentcolor"><defs><g id="glyph-0-1"><path d="m3.2969 2.3906c0-.03125.0-.046875-.17188-.21875-1.2344-1.25-1.5625-3.1406-1.5625-4.6719.0-1.7344.375-3.4688 1.6094-4.7031.125-.125.125-.14062.125-.17188.0-.078125-.03125-.10938-.09375-.10938-.10938.0-1 .6875-1.5938 1.9531-.5 1.0938-.625 2.2031-.625 3.0312.0.78125.10938 1.9844.65625 3.125.60938 1.2188 1.4531 1.875 1.5625 1.875.0625.0.09375-.03125.09375-.10938z"/></g><g id="glyph-0-2"><path d="m4.5781-3.1875c0-.79688-.046875-1.5938-.39062-2.3281-.45312-.96875-1.2812-1.125-1.6875-1.125-.60938.0-1.3281.26562-1.75 1.1875C.43748-4.7656.3906-3.9843.3906-3.1875c0 .75.03125 1.6406.45312 2.4062.42188.79688 1.1562 1 1.6406 1 .53125.0 1.2969-.20312 1.7344-1.1562.3125-.6875.35938-1.4688.35938-2.25zM2.4843.0c-.39062.0-.98438-.25-1.1562-1.2031-.10938-.59375-.10938-1.5156-.10938-2.1094.0-.64062.0-1.2969.078125-1.8281.1875-1.1875.9375-1.2812 1.1875-1.2812.32812.0.98438.1875 1.1719 1.1719.10938.5625.10938 1.3125.10938 1.9375.0.75.0 1.4219-.10938 2.0625-.15625.95312-.71875 1.25-1.1719 1.25z"/></g><g id="glyph-0-3"><path d="m2.875-2.5c0-.76562-.10938-1.9688-.65625-3.1094C1.625-6.8282.76565-7.4844.67185-7.4844c-.0625.0-.10938.046875-.10938.10938.0.03125.0.046875.1875.23438.98438.98438 1.5469 2.5625 1.5469 4.6406.0 1.7188-.35938 3.4688-1.5938 4.7188-.14062.125-.14062.14062-.14062.17188.0.0625.046875.10938.10938.10938.09375.0 1-.6875 1.5781-1.9531.51562-1.0938.625-2.2031.625-3.0469z"/></g><g id="glyph-0-4"><path d="m2.9375-6.375c0-.25.0-.26562-.23438-.26562C2.07812-6 1.20312-6 .89062-6v.3125c.20312.0.78125.0 1.2969-.26562v5.1719c0 .35938-.03125.46875-.92188.46875h-.3125v.3125c.34375-.03125 1.2031-.03125 1.6094-.03125.39062.0 1.2656.0 1.6094.03125v-.3125h-.3125c-.90625.0-.92188-.10938-.92188-.46875z"/></g><g id="glyph-0-5"><path d="m1.2656-.76562 1.0625-1.0312c1.5469-1.375 2.1406-1.9062 2.1406-2.9062.0-1.1406-.89062-1.9375-2.1094-1.9375-1.125.0-1.8594.92188-1.8594 1.8125.0.54688.5.54688.53125.54688.17188.0.51562-.10938.51562-.53125.0-.25-.1875-.51562-.53125-.51562-.078125.0-.09375.0-.125.015625.21875-.65625.76562-1.0156 1.3438-1.0156.90625.0 1.3281.8125 1.3281 1.625.0.79688-.48438 1.5781-1.0469 2.2031l-1.9062 2.125c-.10938.10938-.10938.14062-.10938.375h3.7031l.26562-1.7344h-.23438c-.0625.29688-.125.73438-.23438.89062-.0625.078125-.71875.078125-.9375.078125z"/></g><g id="glyph-0-6"><path d="m1.625-4.5625c-.45312-.29688-.5-.625-.5-.79688.0-.60938.65625-1.0312 1.3594-1.0312.71875.0 1.3594.51562 1.3594 1.2344.0.57812-.39062 1.0469-.98438 1.3906zm1.4531.95312c.71875-.375 1.2031-.89062 1.2031-1.5469.0-.92188-.875-1.4844-1.7812-1.4844-1 0-1.8125.73438-1.8125 1.6719.0.17188.015625.625.4375 1.0938.10938.10938.48438.35938.73438.53125-.57812.29688-1.4375.84375-1.4375 1.8438.0 1.0469 1.0156 1.7188 2.0625 1.7188 1.125.0 2.0781-.82812 2.0781-1.8906.0-.35938-.10938-.8125-.5-1.2344-.1875-.20312-.34375-.29688-.98438-.70312zm-1 .42188 1.2344.78125c.28125.1875.75.48438.75 1.0938.0.73438-.75 1.25-1.5625 1.25-.85938.0-1.5781-.60938-1.5781-1.4375.0-.57812.3125-1.2188 1.1562-1.6875z"/></g><g id="glyph-1-1"><path d="m2.0312-.015625c0-.65625-.25-1.0469-.64062-1.0469-.32812.0-.53125.25-.53125.53125.0.26562.20312.53125.53125.53125.10938.0.25-.046875.34375-.125.03125-.03125.046875-.03125.046875-.03125.015625.0.015625.0.015625.14062.0.75-.34375 1.3438-.67188 1.6719-.10938.10938-.10938.125-.10938.15625.0.078125.046875.10938.09375.10938.10938.0.92188-.76562.92188-1.9375z"/></g><g id="glyph-1-2"><path d="m1.9062-.53125c0-.28125-.23438-.53125-.51562-.53125-.29688.0-.53125.25-.53125.53125.0.29688.23438.53125.53125.53125.28125.0.51562-.23438.51562-.53125z"/></g><g id="glyph-1-3"><path d="m3.8906-3.7344c-.26562.015625-.46875.23438-.46875.45312.0.14062.09375.29688.3125.29688s.45312-.17188.45312-.5625c0-.45312-.42188-.85938-1.1875-.85938-1.3125.0-1.6875 1.0156-1.6875 1.4531.0.78125.73438.92188 1.0312.98438.51562.10938 1.0312.21875 1.0312.76562.0.25-.21875 1.0938-1.4219 1.0938-.14062.0-.90625.0-1.1406-.53125.39062.046875.64062-.25.64062-.53125.0-.21875-.17188-.34375-.375-.34375-.26562.0-.5625.20312-.5625.65625.0.5625.57812.96875 1.4219.96875 1.625.0 2.0156-1.2031 2.0156-1.6562.0-.35938-.1875-.60938-.3125-.71875-.26562-.28125-.5625-.34375-1-.42188-.35938-.078125-.75-.15625-.75-.60938.0-.28125.23438-.89062 1.1094-.89062.25.0.75.078125.89062.45312z"/></g><g id="glyph-1-4"><path d="m2.0469-3.9844h.9375c.20312.0.3125.0.3125-.20312.0-.10938-.10938-.10938-.28125-.10938h-.875c.35938-1.4219.40625-1.6094.40625-1.6719.0-.17188-.125-.26562-.29688-.26562-.03125.0-.3125.0-.39062.35938l-.39062 1.5781h-.9375c-.20312.0-.29688.0-.29688.1875.0.125.078125.125.28125.125h.875c-.71875 2.8281-.76562 3-.76562 3.1719.0.54688.375.92188.92188.92188 1.0156.0 1.5781-1.4531 1.5781-1.5312.0-.10938-.078125-.10938-.10938-.10938-.09375.0-.10938.03125-.15625.14062-.42188 1.0469-.95312 1.2812-1.2969 1.2812-.20312.0-.3125-.125-.3125-.45312.0-.25.03125-.3125.0625-.48438z"/></g><g id="glyph-1-5"><path d="m3.7188-3.7656c-.1875-.375-.46875-.64062-.92188-.64062-1.1562.0-2.3906 1.4688-2.3906 2.9219.0.9375.54688 1.5938 1.3125 1.5938.20312.0.70312-.046875 1.2969-.75.078125.42188.4375.75.90625.75.35938.0.57812-.23438.75-.54688.15625-.35938.29688-.96875.29688-.98438.0-.10938-.09375-.10938-.125-.10938-.09375.0-.10938.046875-.14062.1875-.17188.64062-.34375 1.2344-.75 1.2344-.28125.0-.29688-.26562-.29688-.45312.0-.21875.015625-.3125.125-.75.10938-.40625.125-.51562.21875-.89062l.35938-1.3906c.0625-.28125.0625-.29688.0625-.34375.0-.17188-.10938-.26562-.28125-.26562-.25.0-.39062.21875-.42188.4375zm-.64062 2.5781c-.0625.1875-.0625.20312-.20312.375-.4375.54688-.84375.70312-1.125.70312-.5.0-.64062-.54688-.64062-.9375.0-.5.3125-1.7188.54688-2.1875.3125-.57812.75-.95312 1.1562-.95312.64062.0.78125.8125.78125.875s-.015625.125-.03125.17188z"/></g><g id="glyph-1-6"><path d="m.875-.59375c-.03125.15625-.09375.39062-.09375.4375.0.17188.14062.26562.29688.26562.125.0.29688-.078125.375-.28125.015625-.03125.34375-1.3906.39062-1.5781.078125-.32812.26562-1.0156.3125-1.2969.046875-.125.32812-.59375.5625-.8125.078125-.0625.375-.32812.79688-.32812.26562.0.40625.125.42188.125-.29688.046875-.51562.28125-.51562.54688.0.15625.10938.34375.375.34375s.54688-.23438.54688-.59375c0-.34375-.3125-.64062-.82812-.64062-.64062.0-1.0781.48438-1.2656.76562-.09375-.45312-.45312-.76562-.92188-.76562-.45312.0-.64062.39062-.73438.5625-.17188.34375-.29688.9375-.29688.96875.0.10938.09375.10938.10938.10938.10938.0.10938-.015625.17188-.23438.17188-.70312.375-1.1875.73438-1.1875.15625.0.29688.078125.29688.45312.0.21875-.03125.32812-.15625.84375z"/></g></defs><g transform="translate(-153.99 -128.44)"><use x="153.002" y="135.92" xlink:href="#glyph-0-1"/><use x="156.87645" y="135.92" xlink:href="#glyph-0-2"/><use x="161.85699" y="135.92" xlink:href="#glyph-1-1"/><use x="166.285" y="135.92" xlink:href="#glyph-0-2"/><use x="171.2663" y="135.92" xlink:href="#glyph-0-3"/><use x="207.63" y="135.92" xlink:href="#glyph-0-1"/><use x="211.50446" y="135.92" xlink:href="#glyph-0-2"/><use x="216.48599" y="135.92" xlink:href="#glyph-1-1"/><use x="220.914" y="135.92" xlink:href="#glyph-0-4"/><use x="225.89529" y="135.92" xlink:href="#glyph-0-3"/><use x="262.259" y="135.92" xlink:href="#glyph-0-1"/><use x="266.13345" y="135.92" xlink:href="#glyph-0-2"/><use x="271.11401" y="135.92" xlink:href="#glyph-1-1"/><use x="275.54199" y="135.92" xlink:href="#glyph-0-5"/><use x="280.52328" y="135.92" xlink:href="#glyph-0-3"/><use x="316.88699" y="135.92" xlink:href="#glyph-1-2"/><use x="319.6546" y="135.92" xlink:href="#glyph-1-2"/><use x="322.42221" y="135.92" xlink:href="#glyph-1-2"/><use x="207.63" y="171.108" xlink:href="#glyph-0-1"/><use x="211.50446" y="171.108" xlink:href="#glyph-0-2"/><use x="216.48599" y="171.108" xlink:href="#glyph-1-1"/><use x="220.914" y="171.108" xlink:href="#glyph-0-2"/><use x="225.89529" y="171.108" xlink:href="#glyph-0-3"/><use x="262.259" y="171.108" xlink:href="#glyph-0-1"/><use x="266.13345" y="171.108" xlink:href="#glyph-0-2"/><use x="271.11401" y="171.108" xlink:href="#glyph-1-1"/><use x="275.54199" y="171.108" xlink:href="#glyph-0-4"/><use x="280.52328" y="171.108" xlink:href="#glyph-0-3"/><use x="316.88699" y="171.108" xlink:href="#glyph-1-2"/><use x="319.6546" y="171.108" xlink:href="#glyph-1-2"/><use x="322.42221" y="171.108" xlink:href="#glyph-1-2"/><use x="357.67801" y="171.108" xlink:href="#glyph-0-1"/><use x="361.55246" y="171.108" xlink:href="#glyph-0-6"/><use x="366.534" y="171.108" xlink:href="#glyph-1-1"/><use x="370.96201" y="171.108" xlink:href="#glyph-0-6"/><use x="375.9433" y="171.108" xlink:href="#glyph-0-3"/><use x="262.37701" y="204.951" xlink:href="#glyph-1-3"/><use x="267.04745" y="204.951" xlink:href="#glyph-1-4"/><use x="270.64496" y="204.951" xlink:href="#glyph-1-5"/><use x="275.91119" y="204.951" xlink:href="#glyph-1-6"/><use x="280.68527" y="204.951" xlink:href="#glyph-1-4"/></g><g fill="none" stroke="currentcolor" stroke-miterlimit="10"><g stroke-width=".39848"><path d="m64.713 31.353V14.22"/><path d="m62.322 16.092c1.4336-.3789 2.1133-1.2226 2.3906-2.0703.27734.84766.95703 1.6914 2.3906 2.0703" stroke-linecap="round" stroke-linejoin="round"/><path d="m78.412 31.353 26.895-17.316"/></g><path d="m102.44 13.041c1.0938 1 2.1719 1.1133 3.0352.88672-.5625.69531-.90625 1.7227-.44532 3.1328" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39846"/><g stroke-width=".39848"><path d="m119.34 31.353V14.22"/><path d="m116.95 16.092c1.4336-.3789 2.1133-1.2226 2.3906-2.0703.28125.84766.95704 1.6914 2.3906 2.0703" stroke-linecap="round" stroke-linejoin="round"/><path d="m103.78 35.178-77.762-25.055"/></g><path d="m27.072 12.971c.0781-1.4805-.51562-2.3828-1.2383-2.9102.89453-.004 1.9024-.39062 2.7031-1.6406" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39847"/><path d="m107.27 66.545-27.969-17.328" stroke-width=".39848"/><path d="m79.631 52.236c.43359-1.418.0742-2.4375-.50391-3.1211.87109.20703 1.9453.0781 3.0234-.9414" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39846"/><g stroke-width=".39848"><path d="m119.34 66.545V49.408"/><path d="m116.95 51.279c1.4336-.3789 2.1133-1.2226 2.3906-2.0703.28125.84766.95704 1.6914 2.3906 2.0703" stroke-linecap="round" stroke-linejoin="round"/><path d="m134.78 68.553 64.047-22.723"/></g><path d="m196.26 44.205c.83594 1.2227 1.8594 1.582 2.7539 1.5586-.70704.54687-1.2774 1.4688-1.1524 2.9453" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39846"/></g></svg><br><p>Here you can see a representation of this concept. Starting from a <em>start node</em> we can &ldquo;make a move&rdquo; and remove one hint (by following the arrows), and then remove another one, and so on (for example a possible path is through $(0, 0)$ and $(0, 1)$, meaning that we first remove the hint at $(0, 0)$ and remove the hint at $(0,1)$). Note that in the above diagram the order of hint removals is important: the path $(0, 0) \rightarrow (0, 1)$ is different from the path $(0, 1) \rightarrow (0, 0)$. But that&rsquo;s not needed in our case, because the resulting board would be the same! That means that instead of considering each node as a &ldquo;move&rdquo; (and implicitly the path that was taken to get to the node as a &ldquo;history&rdquo;), we can map each node to a <em>set</em> of moves: the set of moves that a path with those moves would generate, regardless of the order.</p><p>The resuling diagram would be like this, where each node represents the set of moves:</p><svg class="article-svg" viewBox="0 0 223.34 76.625" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentcolor"><defs><g id="glyph-0-1"><path d="m3.2969 2.3906c0-.03125.0-.046875-.17188-.21875-1.2344-1.25-1.5625-3.1406-1.5625-4.6719.0-1.7344.375-3.4688 1.6094-4.7031.125-.125.125-.14062.125-.17188.0-.078125-.03125-.10938-.09375-.10938-.10938.0-1 .6875-1.5938 1.9531-.5 1.0938-.625 2.2031-.625 3.0312.0.78125.10938 1.9844.65625 3.125.60938 1.2188 1.4531 1.875 1.5625 1.875.0625.0.09375-.03125.09375-.10938z"/></g><g id="glyph-0-2"><path d="m4.5781-3.1875c0-.79688-.046875-1.5938-.39062-2.3281-.45312-.96875-1.2812-1.125-1.6875-1.125-.60938.0-1.3281.26562-1.75 1.1875C.43748-4.7656.3906-3.9843.3906-3.1875c0 .75.03125 1.6406.45312 2.4062.42188.79688 1.1562 1 1.6406 1 .53125.0 1.2969-.20312 1.7344-1.1562.3125-.6875.35938-1.4688.35938-2.25zM2.4843.0c-.39062.0-.98438-.25-1.1562-1.2031-.10938-.59375-.10938-1.5156-.10938-2.1094.0-.64062.0-1.2969.078125-1.8281.1875-1.1875.9375-1.2812 1.1875-1.2812.32812.0.98438.1875 1.1719 1.1719.10938.5625.10938 1.3125.10938 1.9375.0.75.0 1.4219-.10938 2.0625-.15625.95312-.71875 1.25-1.1719 1.25z"/></g><g id="glyph-0-3"><path d="m2.875-2.5c0-.76562-.10938-1.9688-.65625-3.1094C1.625-6.8282.76565-7.4844.67185-7.4844c-.0625.0-.10938.046875-.10938.10938.0.03125.0.046875.1875.23438.98438.98438 1.5469 2.5625 1.5469 4.6406.0 1.7188-.35938 3.4688-1.5938 4.7188-.14062.125-.14062.14062-.14062.17188.0.0625.046875.10938.10938.10938.09375.0 1-.6875 1.5781-1.9531.51562-1.0938.625-2.2031.625-3.0469z"/></g><g id="glyph-0-4"><path d="m2.9375-6.375c0-.25.0-.26562-.23438-.26562C2.07812-6 1.20312-6 .89062-6v.3125c.20312.0.78125.0 1.2969-.26562v5.1719c0 .35938-.03125.46875-.92188.46875h-.3125v.3125c.34375-.03125 1.2031-.03125 1.6094-.03125.39062.0 1.2656.0 1.6094.03125v-.3125h-.3125c-.90625.0-.92188-.10938-.92188-.46875z"/></g><g id="glyph-0-5"><path d="m1.2656-.76562 1.0625-1.0312c1.5469-1.375 2.1406-1.9062 2.1406-2.9062.0-1.1406-.89062-1.9375-2.1094-1.9375-1.125.0-1.8594.92188-1.8594 1.8125.0.54688.5.54688.53125.54688.17188.0.51562-.10938.51562-.53125.0-.25-.1875-.51562-.53125-.51562-.078125.0-.09375.0-.125.015625.21875-.65625.76562-1.0156 1.3438-1.0156.90625.0 1.3281.8125 1.3281 1.625.0.79688-.48438 1.5781-1.0469 2.2031l-1.9062 2.125c-.10938.10938-.10938.14062-.10938.375h3.7031l.26562-1.7344h-.23438c-.0625.29688-.125.73438-.23438.89062-.0625.078125-.71875.078125-.9375.078125z"/></g><g id="glyph-0-6"><path d="m1.625-4.5625c-.45312-.29688-.5-.625-.5-.79688.0-.60938.65625-1.0312 1.3594-1.0312.71875.0 1.3594.51562 1.3594 1.2344.0.57812-.39062 1.0469-.98438 1.3906zm1.4531.95312c.71875-.375 1.2031-.89062 1.2031-1.5469.0-.92188-.875-1.4844-1.7812-1.4844-1 0-1.8125.73438-1.8125 1.6719.0.17188.015625.625.4375 1.0938.10938.10938.48438.35938.73438.53125-.57812.29688-1.4375.84375-1.4375 1.8438.0 1.0469 1.0156 1.7188 2.0625 1.7188 1.125.0 2.0781-.82812 2.0781-1.8906.0-.35938-.10938-.8125-.5-1.2344-.1875-.20312-.34375-.29688-.98438-.70312zm-1 .42188 1.2344.78125c.28125.1875.75.48438.75 1.0938.0.73438-.75 1.25-1.5625 1.25-.85938.0-1.5781-.60938-1.5781-1.4375.0-.57812.3125-1.2188 1.1562-1.6875z"/></g><g id="glyph-1-1"><path d="m2.0312-.015625c0-.65625-.25-1.0469-.64062-1.0469-.32812.0-.53125.25-.53125.53125.0.26562.20312.53125.53125.53125.10938.0.25-.046875.34375-.125.03125-.03125.046875-.03125.046875-.03125.015625.0.015625.0.015625.14062.0.75-.34375 1.3438-.67188 1.6719-.10938.10938-.10938.125-.10938.15625.0.078125.046875.10938.09375.10938.10938.0.92188-.76562.92188-1.9375z"/></g><g id="glyph-1-2"><path d="m1.9062-.53125c0-.28125-.23438-.53125-.51562-.53125-.29688.0-.53125.25-.53125.53125.0.29688.23438.53125.53125.53125.28125.0.51562-.23438.51562-.53125z"/></g><g id="glyph-1-3"><path d="m3.8906-3.7344c-.26562.015625-.46875.23438-.46875.45312.0.14062.09375.29688.3125.29688s.45312-.17188.45312-.5625c0-.45312-.42188-.85938-1.1875-.85938-1.3125.0-1.6875 1.0156-1.6875 1.4531.0.78125.73438.92188 1.0312.98438.51562.10938 1.0312.21875 1.0312.76562.0.25-.21875 1.0938-1.4219 1.0938-.14062.0-.90625.0-1.1406-.53125.39062.046875.64062-.25.64062-.53125.0-.21875-.17188-.34375-.375-.34375-.26562.0-.5625.20312-.5625.65625.0.5625.57812.96875 1.4219.96875 1.625.0 2.0156-1.2031 2.0156-1.6562.0-.35938-.1875-.60938-.3125-.71875-.26562-.28125-.5625-.34375-1-.42188-.35938-.078125-.75-.15625-.75-.60938.0-.28125.23438-.89062 1.1094-.89062.25.0.75.078125.89062.45312z"/></g><g id="glyph-1-4"><path d="m2.0469-3.9844h.9375c.20312.0.3125.0.3125-.20312.0-.10938-.10938-.10938-.28125-.10938h-.875c.35938-1.4219.40625-1.6094.40625-1.6719.0-.17188-.125-.26562-.29688-.26562-.03125.0-.3125.0-.39062.35938l-.39062 1.5781h-.9375c-.20312.0-.29688.0-.29688.1875.0.125.078125.125.28125.125h.875c-.71875 2.8281-.76562 3-.76562 3.1719.0.54688.375.92188.92188.92188 1.0156.0 1.5781-1.4531 1.5781-1.5312.0-.10938-.078125-.10938-.10938-.10938-.09375.0-.10938.03125-.15625.14062-.42188 1.0469-.95312 1.2812-1.2969 1.2812-.20312.0-.3125-.125-.3125-.45312.0-.25.03125-.3125.0625-.48438z"/></g><g id="glyph-1-5"><path d="m3.7188-3.7656c-.1875-.375-.46875-.64062-.92188-.64062-1.1562.0-2.3906 1.4688-2.3906 2.9219.0.9375.54688 1.5938 1.3125 1.5938.20312.0.70312-.046875 1.2969-.75.078125.42188.4375.75.90625.75.35938.0.57812-.23438.75-.54688.15625-.35938.29688-.96875.29688-.98438.0-.10938-.09375-.10938-.125-.10938-.09375.0-.10938.046875-.14062.1875-.17188.64062-.34375 1.2344-.75 1.2344-.28125.0-.29688-.26562-.29688-.45312.0-.21875.015625-.3125.125-.75.10938-.40625.125-.51562.21875-.89062l.35938-1.3906c.0625-.28125.0625-.29688.0625-.34375.0-.17188-.10938-.26562-.28125-.26562-.25.0-.39062.21875-.42188.4375zm-.64062 2.5781c-.0625.1875-.0625.20312-.20312.375-.4375.54688-.84375.70312-1.125.70312-.5.0-.64062-.54688-.64062-.9375.0-.5.3125-1.7188.54688-2.1875.3125-.57812.75-.95312 1.1562-.95312.64062.0.78125.8125.78125.875s-.015625.125-.03125.17188z"/></g><g id="glyph-1-6"><path d="m.875-.59375c-.03125.15625-.09375.39062-.09375.4375.0.17188.14062.26562.29688.26562.125.0.29688-.078125.375-.28125.015625-.03125.34375-1.3906.39062-1.5781.078125-.32812.26562-1.0156.3125-1.2969.046875-.125.32812-.59375.5625-.8125.078125-.0625.375-.32812.79688-.32812.26562.0.40625.125.42188.125-.29688.046875-.51562.28125-.51562.54688.0.15625.10938.34375.375.34375s.54688-.23438.54688-.59375c0-.34375-.3125-.64062-.82812-.64062-.64062.0-1.0781.48438-1.2656.76562-.09375-.45312-.45312-.76562-.92188-.76562-.45312.0-.64062.39062-.73438.5625-.17188.34375-.29688.9375-.29688.96875.0.10938.09375.10938.10938.10938.10938.0.10938-.015625.17188-.23438.17188-.70312.375-1.1875.73438-1.1875.15625.0.29688.078125.29688.45312.0.21875-.03125.32812-.15625.84375z"/></g></defs><g transform="translate(-153.99 -128.44)"><use x="153.002" y="135.92" xlink:href="#glyph-0-1"/><use x="156.87645" y="135.92" xlink:href="#glyph-0-2"/><use x="161.858" y="135.92" xlink:href="#glyph-1-1"/><use x="166.285" y="135.92" xlink:href="#glyph-0-2"/><use x="171.2663" y="135.92" xlink:href="#glyph-0-3"/><use x="175.14101" y="135.92" xlink:href="#glyph-1-1"/><use x="179.569" y="135.92" xlink:href="#glyph-0-1"/><use x="183.44345" y="135.92" xlink:href="#glyph-0-2"/><use x="188.425" y="135.92" xlink:href="#glyph-1-1"/><use x="192.85201" y="135.92" xlink:href="#glyph-0-4"/><use x="197.8333" y="135.92" xlink:href="#glyph-0-3"/><use x="234.19701" y="135.92" xlink:href="#glyph-0-1"/><use x="238.07146" y="135.92" xlink:href="#glyph-0-2"/><use x="243.05299" y="135.92" xlink:href="#glyph-1-1"/><use x="247.481" y="135.92" xlink:href="#glyph-0-2"/><use x="252.4623" y="135.92" xlink:href="#glyph-0-3"/><use x="256.336" y="135.92" xlink:href="#glyph-1-1"/><use x="260.76401" y="135.92" xlink:href="#glyph-0-1"/><use x="264.63846" y="135.92" xlink:href="#glyph-0-2"/><use x="269.62" y="135.92" xlink:href="#glyph-1-1"/><use x="274.048" y="135.92" xlink:href="#glyph-0-5"/><use x="279.0293" y="135.92" xlink:href="#glyph-0-3"/><use x="315.39301" y="135.92" xlink:href="#glyph-1-2"/><use x="318.16061" y="135.92" xlink:href="#glyph-1-2"/><use x="320.92822" y="135.92" xlink:href="#glyph-1-2"/><use x="166.285" y="171.108" xlink:href="#glyph-0-1"/><use x="170.15945" y="171.108" xlink:href="#glyph-0-2"/><use x="175.14101" y="171.108" xlink:href="#glyph-1-1"/><use x="179.569" y="171.108" xlink:href="#glyph-0-2"/><use x="184.55029" y="171.108" xlink:href="#glyph-0-3"/><use x="247.481" y="171.108" xlink:href="#glyph-0-1"/><use x="251.35545" y="171.108" xlink:href="#glyph-0-2"/><use x="256.336" y="171.108" xlink:href="#glyph-1-1"/><use x="260.76401" y="171.108" xlink:href="#glyph-0-4"/><use x="265.7453" y="171.108" xlink:href="#glyph-0-3"/><use x="315.39301" y="171.108" xlink:href="#glyph-1-2"/><use x="318.16061" y="171.108" xlink:href="#glyph-1-2"/><use x="320.92822" y="171.108" xlink:href="#glyph-1-2"/><use x="356.18399" y="171.108" xlink:href="#glyph-0-1"/><use x="360.05844" y="171.108" xlink:href="#glyph-0-6"/><use x="365.04001" y="171.108" xlink:href="#glyph-1-1"/><use x="369.46799" y="171.108" xlink:href="#glyph-0-6"/><use x="374.44931" y="171.108" xlink:href="#glyph-0-3"/><use x="247.599" y="204.951" xlink:href="#glyph-1-3"/><use x="252.26947" y="204.951" xlink:href="#glyph-1-4"/><use x="255.86696" y="204.951" xlink:href="#glyph-1-5"/><use x="261.13318" y="204.951" xlink:href="#glyph-1-6"/><use x="265.90726" y="204.951" xlink:href="#glyph-1-4"/></g><g fill="none" stroke="currentcolor" stroke-miterlimit="10"><g stroke-width=".39848"><path d="m23.369 31.353V14.22"/><path d="m20.978 16.092c1.4336-.37891 2.1094-1.2227 2.3906-2.0703.27734.84766.95312 1.6914 2.3906 2.0703" stroke-linecap="round" stroke-linejoin="round"/><path d="m38.928 33.443 44.91-19.465"/></g><path d="m81.166 12.529c.91797 1.168 1.9609 1.4531 2.8555 1.3711-.67188.59375-1.1758 1.5508-.95313 3.0156" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39846"/><path d="m89.006 33.443-44.91-19.465" stroke-width=".39848"/><path d="m44.861 16.916c.22656-1.4648-.28125-2.4219-.94922-3.0156.89062.08203 1.9336-.20312 2.8516-1.3711" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39846"/><path d="m89.123 67.596-49.828-20.777" stroke-width=".39848"/><path d="m40.103 49.748c.20312-1.4727-.3164-2.4219-.99219-3.0039.89063.06641 1.9297-.23438 2.832-1.4102" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39846"/><g stroke-width=".39848"><path d="m104.56 66.545V49.408"/><path d="m102.17 51.279c1.4336-.37891 2.1133-1.2227 2.3906-2.0703.27734.84766.95703 1.6914 2.3906 2.0703" stroke-linecap="round" stroke-linejoin="round"/><path d="m120.01 69.225 77.324-24.086"/></g><path d="m194.83 43.412c.78906 1.2578 1.7969 1.6523 2.6914 1.668-.73047.51953-1.332 1.418-1.2695 2.8984" stroke-linecap="round" stroke-linejoin="round" stroke-width=".39846"/></g></svg><br><p>Note that now there are two arrows going into the node $\lbrace (0,0), (0,1) \rbrace$.
This change may seem inconsequential, but discarding the relevancy of order means reducing drastically the size of this diagram (thus the number of nodes our program will have to check).</p><p>We can even compute how many nodes we saved! Before, after $n$ nodes selected we could make $(81 - n)$ possible choices for each node. Expanding that idea and calling $s_n$ the total number of possible choices after $n$ moves:</p><div class=equation>$$
\begin{align*}
&s_0 = 81 \\
&s_1 = s_0 (81 - 1) \\
&s_2 = s_1 (81 - 2) \\
&\vdots \\
&s_j = s_{j - 1} (81 - j) = \prod_{k = 0}^{j} (81 - k) = \frac{81!}{(81 - j - 1)!} = (81)_{j + 1}\\ \\
N &= \sum_{i = 0}^{81} s_i \\
  &= \sum_{i = 0}^{81} \frac{81!}{(81 - j - 1)!} \\
&\approx 1.5 \cdot 10^{121}
\end{align*}
$$</div><p>Where $(n)_k$ is the number of <a class=link href=https://en.wikipedia.org/wiki/Permutation#k-permutations_of_n target=_blank rel=noopener>$k$-permutations</a> of a set of $n$ elements.
Note that at each $s_j$ we have $j + 1$ hints selected.</p><p>After discarding the order we get the same computation, except that $s_j$ must be divided by the number of paths that can generate the same set of moves. This is the same as the number of different permutations (i.e. orderings) of a set of $j + 1$ elements, i.e. $(j + 1)!$.</p><div class=equation>$$
\begin{align*}
&s_0 = 81 \\
&s_1 = \frac{s_0 (81 - 1)}{2!} \\
&s_2 = \frac{s_1 (81 - 2)}{3!} \\
&\vdots \\
&s_j = \frac{s_{j - 1} (81 - j)}{(j+1)!} = \frac{(81)_{j + 1}}{(j + 1)!} = \bold{C}(81, j + 1) = \binom{81}{j + 1} \\ \\
N &= \sum_{i = 0}^{81} s_i \\
  &= \sum_{i = 0}^{81} \binom{81}{j + 1} \\
&\approx 2.4 \cdot 10^{24}
\end{align*}
$$</div><p>That&rsquo;s a 97 order of magnitudes reduction! Still too big to naively iterate through all $10^{24}$ nodes until we find a minimal solution.
We can instead exploit the <em>structure</em> of our problem, and the diagram we made before is all we need. That diagram is, in fancy mathy words, a <em>graph</em> where each <em>node</em> encodes a set of removed hints, and each <em>edge</em> (i.e. arrow) indicates a &ldquo;one-move&rdquo; distance between nodes.</p><p>The kind of problem we are describing is a <a class=link href=https://en.wikipedia.org/wiki/Search_algorithm target=_blank rel=noopener>(local) search</a>. I won&rsquo;t describe here all the nitty-gritty details of search algorithms, because there are plenty of resources online that can do a far better job than me, and for Kropkis there is no big insight in understanding exactly how they work.
If you are curious, I used the <a class=link href=https://en.wikipedia.org/wiki/A*_search_algorithm target=_blank rel=noopener>A* search algorithm</a> in the hopes of finding a good heuristic, but I couldn&rsquo;t find one, so I stuck with $h(x) = 0$.</p><h1 id=squeezing-performance>Squeezing performance</h1><p>By combining a CSP with a search algorithm we already have a Kropki generator. Our job is done!
But I don&rsquo;t want to wait several minutes to have a Kropki. I&rsquo;d much rather wait at most <em>a few seconds</em>.</p><p>I was stuck on how to optimize search for quite a bit. I even considered rewriting the program from Python to another language like Rust (profiling showed that a lot of the time was spent in the CSP solver in type checking integers at runtime when checking for minimality).
I rewrote the program from the additive approach (it seemed more natural given that we are trying to minimize the number of hints, so starting from 0 instead of 81 seemed a good start) to the subtractive approach in order to get a different perspective on the problem.</p><p>At one point I just threw my hands up and said: &ldquo;Whatever, I don&rsquo;t care about the minimal solution, it just has to be good enough&rdquo;. An approximate solution would be far better if it would be capable of unlocking a big speedup. And the switch to the subtractive approach made computing approximate solutions extremely natural.
For the subtractive approach, you just have to start from a subset of the initial hints instead of the full board (i.e. a partial solution). Starting from 10 hints only is in fact extremely faster than starting from 81 hints: it won&rsquo;t guarantee that the solution you find is optimal, but it surely is minimal (i.e. you may find a solution with 6 hints while if you started with 81 the optimal solution would have had 5, but you cannot remove any of the 6 hints you found and still have a unique solution).</p><p>This approach worked very well, and is again related to the <em>structure</em> of the problem: Kropkis in fact need very little hints to ensure uniqueness of a solution, so by randomly removing many of the initial hints it&rsquo;s very likely that you didn&rsquo;t discard good solutions<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>.</p><p>But I wasn&rsquo;t satisfied still with the overall perfomance. I felt like I was leaving something on the table performance-wise. And I was.
You see, ignoring history reduced a lot our search space, but there is still some redundancy there: there are still multiple paths that get to the same result. If we managed to <strong>fix</strong> the exploration order, there would be no more duplication.
For example, if we decide to evaluate nodes in the natural coordinate order ($(0, 0)$ to $(8, 8)$, row by row) it means that once we get to the second row, we will not be able to change the choices we made for the first row. And that&rsquo;s good! If the choices we made for our first row are included in the optimal solution, there is no way we can&rsquo;t get to the optimal solution (because in general the order of choices is not relevant to the solution).</p><p>Let&rsquo;s compute the impact of fixing the exploration order. For step $s_0$ there is obviously no change, while for the second step fixing the order means that we are allowed to choose cells that come only <strong>after</strong> the cell chosen at step 0. For step three the same logic applies: we can&rsquo;t choose cells that come before the <em>maximum</em> cell that we have already chosen, and because the cell choices can only grow in one direction, it means that the maximum cell is the one chosen at the previous step.</p><p>Focusing on the other steps, for each candidate cell $i$ we have $(81 - i)$ neighboring nodes (if we choose the first cell we can then choose any other at the next step, while if we choose the last it means we consider the whole grid as the candidate minimal solution). Writing down and computing that:</p><div class=equation>$$
\begin{align*}
s_0 &= 81 \\
s_1 &= \sum_{i = 1}^{81} (81 - i) \\
s_2 &= \sum_{i = 2}^{81} (81 - i) \\
\vdots& \\
s_j &= \sum_{i = j}^{81} (81 - i) &\text{(substitute $k = 81 - i - j$)} \\
&= \sum_{k = 0}^{81 - j} (81 - j - k) &\text{(substitute $l = 81 - j - k$)} \\
&= \sum_{l = 0}^{81 - j} l = \binom{81 - j}{2} \\ \\
N &= \sum_{i = 0}^{81} s_i \\
  &= 81 + \sum_{i = 1}^{81} \binom{81 - j}{2} \\
&= 85\,401
\end{align*}
$$
</div><p>A 118 orders of magnitude reduction from the initial search space! Visually, fixing the exploration order can be seen as follows:</p><svg class="article-svg" id="svg1" fill="currentcolor" viewBox="0 0 375 188" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs1"/><g id="g84" transform="translate(-1040.0234,-170.82422)"><path id="path85" d="M0 0H255.12128M0 28.33684H255.12128M0 0V28.3468M28.3468.0V28.3468M56.69362.0V28.3468M85.04042.0V28.3468M113.38724.0V28.3468M141.73404.0V28.3468M170.08086.0V28.3468M198.42766.0V28.3468M226.77448.0V28.3468M255.11133.0v28.3468" style="fill:none;stroke:currentColor;stroke-width:.19925;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(1.3333333,0,0,-1.3333333,1074.4973,283.29867)"/><path id="path86" d="M1.2662891-.76295312 2.3209766-1.7942031c1.5585937-1.3710938 2.15625-1.9101563 2.15625-2.90625.0-1.1367188-.9023438-1.9335938-2.1210938-1.9335938-1.125.0-1.85156249.9140625-1.85156249 1.8046875.0.5507813.4921875.5507813.52734379.5507813.1640625.0.515625-.1171875.515625-.5273438.0-.2578125-.1875-.515625-.5273438-.515625-.0820312.0-.10546874.0-.12890624.011719.22265624-.6445313.76171874-1.0195313 1.33593754-1.0195313.9140625.0 1.3359375.8085938 1.3359375 1.6289063.0.796875-.4921875 1.5820312-1.0429688 2.203125L.61003906-.36451562C.50457031-.25904687.50457031-.23560937.50457031-.00123437H4.1959766l.28125-1.73437503H4.2194141c-.046875.3046875-.1171875.73828128-.2109375.89062503-.070312.0820313-.7265625.0820313-.9492188.0820313zm0 0" aria-label="2" transform="matrix(1.3333333,0,0,1.3333333,1090.0733,268.68133)"/><path id="path87" d="M3.8784844-2.7646328 1.8862969-4.7451016c-.1289063-.1289062-.140625-.140625-.2226563-.140625-.1054687.0-.1992187.082031-.1992187.1992188.0.070312.023437.082031.1289062.1992187l1.9921875 1.9921875L1.5933281-.49119531c-.1054687.1171875-.1289062.12890625-.1289062.19921875.0.1171875.09375.19921875.1992187.19921875.082031.0.09375-.01171875.2226563-.140625L3.8667656-2.2138516l2.0625 2.06250004c.011719.0117188.082031.05859375.1523438.05859375.1171875.0.1992187-.08203125.1992187-.19921875.0-.0117188.0-.0585938-.035156-.10546875-.011719-.0234375-1.59375-1.58203129-2.0976563-2.09765629l1.828125-1.8164062c.046875-.058594.1992188-.1875.2460938-.2460938.011719-.023437.058594-.058594.058594-.1289062.0-.1171875-.082031-.1992188-.1992187-.1992188-.082031.0-.1289063.035156-.234375.140625zm0 0" aria-label="×" transform="matrix(1.3333333,0,0,1.3333333,1126.024,267.72133)"/><path id="path88" d="M3.8801406-2.7646328 1.8879531-4.7451016c-.1289062-.1289062-.140625-.140625-.2226562-.140625-.1054688.0-.1992188.082031-.1992188.1992188.0.070312.023437.082031.1289063.1992187l1.9921875 1.9921875L1.5949844-.49119531c-.1054688.1171875-.1289063.12890625-.1289063.19921875.0.1171875.09375.19921875.1992188.19921875.082031.0.09375-.01171875.2226562-.140625L3.8684219-2.2138516l2.0625 2.06250004c.011719.0117188.082031.05859375.1523437.05859375.1171875.0.1992188-.08203125.1992188-.19921875.0-.0117188.0-.0585938-.035156-.10546875-.011719-.0234375-1.59375-1.58203129-2.0976562-2.09765629l1.828125-1.8164062c.046875-.058594.1992187-.1875.2460937-.2460938.011719-.023437.058594-.058594.058594-.1289062.0-.1171875-.082031-.1992188-.1992188-.1992188-.082031.0-.1289062.035156-.234375.140625zm0 0" aria-label="×" transform="matrix(1.3333333,0,0,1.3333333,1163.8187,267.72133)"/><path id="path89" d="M3.8778672-2.7646328 1.8856797-4.7451016c-.1289063-.1289062-.140625-.140625-.2226563-.140625-.1054687.0-.1992187.082031-.1992187.1992188.0.070312.023437.082031.1289062.1992187l1.9921875 1.9921875L1.5927109-.49119531c-.1054687.1171875-.1289062.12890625-.1289062.19921875.0.1171875.09375.19921875.1992187.19921875.082031.0.09375-.01171875.2226563-.140625L3.8661484-2.2138516l2.0625 2.06250004c.011719.0117188.082031.05859375.1523438.05859375.1171875.0.1992187-.08203125.1992187-.19921875.0-.0117188.0-.0585938-.035156-.10546875-.011719-.0234375-1.59375-1.58203129-2.0976563-2.09765629l1.828125-1.8164062c.046875-.058594.1992188-.1875.2460938-.2460938.011719-.023437.058594-.058594.058594-.1289062.0-.1171875-.082031-.1992188-.1992187-.1992188-.082031.0-.1289063.035156-.234375.140625zm0 0" aria-label="×" transform="matrix(1.3333333,0,0,1.3333333,1201.6147,267.72133)"/><path id="path90" d="m2.9291172-1.6418594v.86718753c0 .3515625-.023437.46875-.7617188.46875H1.9564609v.3046875c.4101563-.03515625.9375-.03515625 1.3476563-.03515625.421875.0.9492187.0 1.359375.03515625v-.3046875H4.4525547c-.7382813.0-.7617188-.1171875-.7617188-.46875V-1.6418594h.9960938v-.3164062H3.6908359v-4.5234375c0-.1992188.0-.2578125-.1523437-.2578125-.09375.0-.1171875.0-.1992188.1171875L.28067969-1.9582656v.3164062zm.058594-.3164062H.56192969L2.9877109-5.6731094zm0 0" aria-label="4" transform="matrix(1.3333333,0,0,1.3333333,1241.2547,268.68133)"/><path id="path91" d="M14.17339 70.86702V31.58015" style="fill:none;stroke:currentColor;stroke-width:.3985;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(1.3333333,0,0,-1.3333333,1074.4973,283.29867)"/><path id="path92" d="M-2.07224 2.39104C-1.69365.95639-.84999.27895.0.0-.84999-.27895-1.69365-.95639-2.07224-2.39104" style="fill:none;stroke:currentColor;stroke-width:.3985;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(0,1.3333333,1.3333333,0,1093.3952,241.45747)"/><g id="g92" aria-label="(0,0)assignedto2" transform="matrix(1.3333333,0,0,1.3333333,1038.7107,180.79333)"><path id="path93" d="m3.2931719 2.3903516c0-.035156.0-.046875-.1640625-.2226563C1.8869219.91378906 1.5587969-.96121094 1.5587969-2.4963672c0-1.7226562.3867187-3.4570312 1.6054687-4.7109375.1289063-.1171875.1289063-.1289062.1289063-.1640625.0-.070312-.035156-.1054687-.09375-.1054687-.1054688.0-.9960938.6796875-1.5820313 1.9453125-.515625 1.1015625-.63281247 2.203125-.63281247 3.0351562.0.7851563.11718747 1.99218751.65624997 3.11718751.5976563 1.21874999 1.453125 1.87499999 1.5585938 1.87499999.058594.0.09375-.035156.09375-.1054687zm5.1621094-5.578125c0-.796875-.046875-1.59375-.3984375-2.3320313-.4570313-.9609375-1.2773438-1.1132812-1.6875-1.1132812-.5976563.0-1.3359375.2578125-1.734375 1.1835937-.328125.6914063-.375 1.4648438-.375 2.2617188.0.75.046875 1.640625.4453125 2.40234371C5.138875.02316406 5.8654375.22238281 6.357625.22238281c.5390625.0 1.2890625-.2109375 1.734375-1.16015625C8.4084063-1.6291797 8.4552813-2.4026172 8.4552813-3.1877734zM6.357625-.0002734375C5.9709063-.0002734375 5.37325-.24636719 5.1974688-1.2073047 5.092-1.8049609 5.092-2.7190234 5.092-3.3049609c0-.6445313.0-1.3007813.082031-1.8398438.1875-1.1835937.9257812-1.265625 1.1835937-1.265625.328125.0.984375.1757813 1.171875 1.1601563.09375.5625.09375 1.3125.09375 1.9453125.0.75.0 1.4179687-.1054687 2.0625-.1523435.93749996-.7148435 1.2421874625-1.160156 1.2421874625zm0 0"/><path id="path94" d="m10.883992-.01199219c0-.65625-.257812-1.04296871-.644531-1.04296871-.3281251.0-.5273438.24609371-.5273438.52734371.0.26953125.1992187.5273437525.5273438.5273437525.117187.0.246094-.0351562525.351562-.1289062525.02344-.0234375.03516-.0351563.04687-.0351563.01172.0.02344.0117188.02344.15234375.0.73828125-.351563 1.33593744-.6796876 1.66406244-.1054687.1054688-.1054687.1289063-.1054687.1640625.0.070312.046875.1054688.09375.1054688.1171873.0.9140623-.7617188.9140623-1.93359374zm0 0"/><path id="path95" d="m17.865438-3.1877734c0-.796875-.04687-1.59375-.398438-2.3320313-.457031-.9609375-1.277344-1.1132812-1.6875-1.1132812-.597656.0-1.335937.2578125-1.734375 1.1835937-.328125.6914063-.375 1.4648438-.375 2.2617188.0.75.04687 1.640625.445313 2.40234371.433593.80859375 1.160156 1.0078125 1.652343 1.0078125.539063.0 1.289063-.2109375 1.734375-1.16015625.316407-.69140626.363282-1.46484376.363282-2.24999996zm-2.097657 3.1874999625c-.386718.0-.984375-.2460937525-1.160156-1.2070312625-.105469-.5976562-.105469-1.5117187-.105469-2.0976562.0-.6445313.0-1.3007813.08203-1.8398438.1875-1.1835937.925781-1.265625 1.183593-1.265625.328125.0.984375.1757813 1.171875 1.1601563.09375.5625.09375 1.3125.09375 1.9453125.0.75.0 1.4179687-.105468 2.0625-.152344.93749996-.714844 1.2421874625-1.160157 1.2421874625zM21.146688-2.4963672c0-.7734375-.117188-1.9804687-.65625-3.1054687-.597657-1.21875-1.464844-1.875-1.558594-1.875-.05859.0-.105469.046875-.105469.1054687.0.035156.0.046875.199219.234375.972656.984375 1.535156 2.5664063 1.535156 4.640625.0 1.71093751-.363281 3.45703126-1.59375 4.7226563-.140625.1171875-.140625.1289062-.140625.1640625.0.058594.04687.1054687.105469.1054687.09375.0.996094-.6796875 1.582031-1.94531249.503906-1.1015625.632813-2.20312501.632813-3.04687501zm7.625976 1.73437501c.03516.3984375.304688.8203125.773438.8203125.210937.0.820312-.140625.820312-.94921875V-1.4416797H30.12032v.55078126c0 .5859375-.246093.64453125-.363281.64453125-.328125.0-.363281-.45703125-.363281-.50390625V-2.7424609c0-.4101563.0-.8085938-.363281-1.171875-.386719-.3867188-.878907-.5507813-1.359375-.5507813-.820313.0-1.511719.46875-1.511719 1.125.0.3046875.199219.46875.457031.46875.28125.0.46875-.1992187.46875-.4570312.0-.1171875-.05859-.4453125-.515625-.4570313.269531-.3515625.761719-.4570312 1.078125-.4570312.492188.0 1.054688.3867187 1.054688 1.2773437v.3632813c-.503907.035156-1.207032.058594-1.828125.3632812-.75.3398438-.996094.8554688-.996094 1.28906251.0.80859375.960937 1.0546875 1.59375 1.0546875.65625.0 1.113281-.3984375 1.300781-.8671875zm-.07031-1.62890621v.9960937c0 .94921876-.714844 1.28906251-1.160157 1.28906251-.492187.0-.902343-.3515625-.902343-.85546875.0-.53906246.421875-1.37109376 2.0625-1.42968746zm3.808593.4570312c.222657.035156 1.03125.1992188 1.03125.9140625.0.51562501-.351562.91406251-1.125.91406251-.832031.0-1.195312-.57421875-1.382812-1.41796871-.03516-.1289063-.03516-.1757813-.140625-.1757813-.128906.0-.128906.070312-.128906.2578125v1.31250001c0 .1640625.0.234375.105468.234375.05859.0.07031.0.257813-.19921875.01172-.01171875.01172-.03515625.199219-.22265625.433593.421875.878906.421875 1.089843.421875 1.148438.0 1.605469-.66796875 1.605469-1.38281251.0-.5273437-.292969-.8203125-.421875-.9492187-.328125-.3164063-.714844-.3984375-1.136719-.46875-.550781-.1171875-1.21875-.2460938-1.21875-.8203125.0-.3515625.257813-.7617188 1.113282-.7617188 1.101562.0 1.148437.9023438 1.171875 1.2070313.0.09375.09375.09375.117187.09375.128906.0.128906-.046875.128906-.2460938v-.9960937c0-.1757813.0-.2460938-.117187-.2460938-.04687.0-.07031.0-.199219.1171875-.02344.046875-.128906.1289063-.164062.1640625-.375-.28125-.785157-.28125-.9375-.28125-1.21875.0-1.59375.6679688-1.59375 1.2304688.0.3398437.164062.6210937.433593.84375.316407.2578125.597657.3164062 1.3125.4570312zm3.928711.0c.222657.035156 1.03125.1992188 1.03125.9140625.0.51562501-.351562.91406251-1.125.91406251-.832031.0-1.195312-.57421875-1.382812-1.41796871-.03516-.1289063-.03516-.1757813-.140625-.1757813-.128906.0-.128906.070312-.128906.2578125v1.31250001c0 .1640625.0.234375.105468.234375.05859.0.07031.0.257813-.19921875.01172-.01171875.01172-.03515625.199219-.22265625.433593.421875.878906.421875 1.089843.421875 1.148438.0 1.605469-.66796875 1.605469-1.38281251.0-.5273437-.292969-.8203125-.421875-.9492187-.328125-.3164063-.714844-.3984375-1.136719-.46875-.550781-.1171875-1.21875-.2460938-1.21875-.8203125.0-.3515625.257813-.7617188 1.113282-.7617188 1.101562.0 1.148437.9023438 1.171875 1.2070313.0.09375.09375.09375.117187.09375.128906.0.128906-.046875.128906-.2460938v-.9960937c0-.1757813.0-.2460938-.117187-.2460938-.04687.0-.07031.0-.199219.1171875-.02344.046875-.128906.1289063-.164062.1640625-.375-.28125-.785157-.28125-.9375-.28125-1.21875.0-1.59375.6679688-1.59375 1.2304688.0.3398437.164062.6210937.433593.84375.316407.2578125.597657.3164062 1.3125.4570312zm3.615235-2.4726562-1.394532.1171875v.3046875c.65625.0.738282.058594.738282.5507812v2.67187501c0 .45703125-.105469.45703125-.773438.45703125v.3046875025C38.941609-.01199219 39.480672-.03542969 39.726766-.03542969c.339843.0.691406.0234375 1.03125.0351562525V-.30496094c-.65625.0-.703125-.0585938-.703125-.4453125zm.04687-1.734375c0-.3164063-.246094-.5273438-.527344-.5273438-.316406.0-.527344.2695313-.527344.5273438.0.2695312.210938.5273437.527344.5273437.28125.0.527344-.1992187.527344-.5273437zm3.175781 4.4296875c-.867188.0-.867188-.9960938-.867188-1.2304688.0-.2695312.01172-.5859375.152344-.8320312.08203-.1171875.316406-.3984375.714844-.3984375.867187.0.867187.9960937.867187 1.21875.0.2695312-.01172.5976562-.164062.84375-.08203.1171875-.304688.3984375-.703125.3984375zm-1.160156.3867187c0-.035156.0-.2695312.175781-.46875.386719.28125.796875.3046875.984375.3046875.925781.0 1.605469-.6796875 1.605469-1.453125.0-.3632812-.152344-.7382812-.398438-.9609375.351563-.3398437.714844-.3867187.890625-.3867187.02344.0.07031.0.105469.0-.117188.046875-.164063.1523437-.164063.2695312.0.1757813.128907.2929688.292969.2929688.09375.0.28125-.070312.28125-.2929688.0-.1757812-.117187-.4921875-.503906-.4921875-.199219.0-.632813.058594-1.054688.46875-.421875-.328125-.84375-.3632812-1.054687-.3632812-.925781.0-1.617188.6914062-1.617188 1.453125.0.4453125.222657.8203125.46875 1.03125-.128906.1523437-.304687.4804687-.304687.8203125.0.31640621.128906.69140621.433594.89062496-.597657.17578125-.914063.59765625-.914063.99609375.0.71484379.984375 1.26562499 2.203125 1.26562499 1.171875.0 2.203125-.5039062 2.203125-1.28906249.0-.33984375-.140625-.85546875-.644531-1.125-.527344-.28125-1.101563-.28125-1.710938-.28125-.246093.0-.679687.0-.75-.0117188-.316406-.046875-.527343-.35156241-.527343-.66796871zm1.441406 3.1523438c-1.007813.0-1.699219-.515625-1.699219-1.04296879.0-.45703125.375-.8203125.820313-.85546875h.585937c.855469.0 1.96875.0 1.96875.85546875.0.53906249-.703125 1.04296879-1.675781 1.04296879zm3.588867-5.25v2.66015621c0 .45703125-.117187.45703125-.785156.45703125v.3046875025c.351562-.0117187525.855469-.0351562525 1.125-.0351562525.257812.0.785156.0234375 1.113281.0351562525V-.30496094c-.65625.0-.773437.0-.773437-.45703125V-2.5901172c0-1.03125.714843-1.59375 1.347656-1.59375.621094.0.738281.5390625.738281 1.1015625v2.32031251c0 .45703125-.117187.45703125-.773437.45703125v.3046875025c.339843-.0117187525.855468-.0351562525 1.125-.0351562525.257812.0.773437.0234375 1.113281.0351562525V-.30496094c-.515625.0-.773438.0-.785156-.3046875V-2.5080859c0-.8554688.0-1.171875-.304688-1.5234375-.140625-.1757813-.46875-.375-1.042969-.375-.726562.0-1.195312.4335937-1.476562 1.0546875v-1.0546875l-1.40625.1171875v.3046875c.703125.0.785156.070312.785156.5625zm5.545899.9140625c.05859-1.4882813.902343-1.734375 1.242187-1.734375 1.019531.0 1.125 1.3476562 1.125 1.734375zm-.01172.2109375h2.789062c.210938.0.246094.0.246094-.2109375.0-.984375-.539062-1.9570313-1.78125-1.9570313-1.160156.0-2.074219 1.03125-2.074219 2.2734375.0 1.33593751 1.042969 2.29687501 2.191407 2.29687501 1.21875.0 1.664062-1.1015625 1.664062-1.28906251.0-.1054687-.08203-.1171875-.128906-.1171875-.09375.0-.117188.058594-.128906.140625-.351563 1.01953126-1.253907 1.01953126-1.347657 1.01953126-.503906.0-.902343-.29296875-1.125-.66796875C52.681844-1.2893359 52.681844-1.9455859 52.681844-2.2971484zm7.110351 1.74609371v.65625l1.464848-.1054687475V-.30496094c-.703125.0-.773437-.0703125-.773437-.5625V-6.9143359l-1.441407.1054687v.3164063c.703125.0.785157.070312.785157.5507812v2.15625c-.292969-.3632812-.726563-.6210937-1.265625-.6210937-1.171875.0-2.214844.984375-2.214844 2.2617187.0 1.26562501.972656 2.25000001 2.109375 2.25000001.644531.0 1.089844-.33984375 1.335937-.65625zm0-2.67187501v2.0507813c0 .17578121.0.19921871-.105468.36328121-.304688.48046875-.75.703125-1.183594.703125-.445313.0-.796875-.2578125-1.042969-.64453125-.257812-.41015626-.292969-.97265626-.292969-1.38281246.0-.3632813.02344-.9609375.316407-1.4179688.210937-.3046875.585937-.6328125 1.125-.6328125.351562.0.761718.1523438 1.078125.5976563.105468.1640625.105468.1875.105468.3632812zM66.592-3.9846484h1.429688v-.3046875H66.592v-1.8398438h-.246094c-.01172.8203125-.316406 1.8867188-1.289062 1.921875v.2226563h.84375v2.7539062c0 1.21875001.925781 1.33593751 1.289062 1.33593751.703125.0.984375-.703125.984375-1.33593751v-.5742187h-.246093v.5507812c0 .73828126-.304688 1.11328126-.667969 1.11328126-.667969.0-.667969-.90234376-.667969-1.07812496zm6.84082 1.8515625c0-1.2773438-.996093-2.3320313-2.191406-2.3320313-1.253906.0-2.214844 1.0898438-2.214844 2.3320313.0 1.28906246 1.03125 2.23828121 2.203125 2.23828121 1.207032.0 2.203125-.97265625 2.203125-2.23828121zM71.241414-.14089844c-.433594.0-.867187-.2109375-1.136719-.66796875-.257812-.43359371-.257812-1.04296871-.257812-1.40625001.0-.3867187.0-.9257812.246094-1.359375.269531-.4570312.738281-.6679687 1.136718-.6679687.433594.0.867188.2226562 1.125.6445312.257813.4335938.257813 1.0078125.257813 1.3828125.0.3632813.0.9023438-.222656 1.33593751-.222657.4453125-.65625.73828125-1.148438.73828125zm7.066406-.62109375 1.054688-1.03125001c1.558594-1.3710937 2.15625-1.9101562 2.15625-2.90625.0-1.1367187-.902344-1.9335937-2.121094-1.9335937-1.125.0-1.851562.9140625-1.851562 1.8046875.0.5507812.492187.5507812.527343.5507812.164063.0.515625-.1171875.515625-.5273437.0-.2578125-.1875-.515625-.527343-.515625-.08203.0-.105469.0-.128907.011719.222657-.6445312.761719-1.0195312 1.335938-1.0195312.914062.0 1.335937.8085937 1.335937 1.6289062.0.796875-.492187 1.5820313-1.042968 2.203125L77.65157-.36355439c-.105468.10546875-.105468.12890625-.105468.3632812525h3.691406L81.518758-1.7346484h-.257813c-.04687.3046875-.117187.73828121-.210937.89062496-.07031.0820313-.726563.0820313-.949219.0820313zm0 0"/></g><path id="path96" d="M42.5202-42.52023V-3.23337" style="fill:none;stroke:currentColor;stroke-width:.3985;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(1.3333333,0,0,-1.3333333,1074.4973,283.29867)"/><path id="path97" d="M-2.07224 2.39104C-1.69365.95639-.84999.27895.0.0-.84999-.27895-1.69365-.95639-2.07224-2.39104" style="fill:none;stroke:currentColor;stroke-width:.3985;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(0,-1.3333333,-1.3333333,0,1131.1909,287.34413)"/><g id="g97" aria-label="(0,1)leftempty" transform="matrix(1.3333333,0,0,1.3333333,1084.5133,354.65067)"><path id="path98" d="m3.2917578 2.3918828c0-.035156.0-.046875-.1640625-.2226562C1.8855078.91532031 1.5573828-.95967969 1.5573828-2.4948359c0-1.7226563.3867188-3.4570313 1.6054688-4.7109375.1289062-.1171875.1289062-.1289063.1289062-.1640625.0-.070312-.035156-.1054688-.09375-.1054688-.1054687.0-.9960937.6796875-1.5820312 1.9453125-.515625 1.1015625-.63281254 2.203125-.63281254 3.0351563.0.7851562.11718754 1.99218746.65625004 3.11718746.5976562 1.21875004 1.453125 1.87500004 1.5585937 1.87500004.058594.0.09375-.035156.09375-.1054688zm5.1650391-5.578125c0-.796875-.046875-1.59375-.3984375-2.3320312-.4570313-.9609375-1.2773438-1.1132813-1.6875-1.1132813-.5976563.0-1.3359375.2578125-1.734375 1.1835938-.328125.6914062-.375 1.4648437-.375 2.2617187.0.75.046875 1.640625.4453125 2.40234376.4335937.80859375 1.1601562 1.0078125 1.6523437 1.0078125.5390625.0 1.2890625-.2109375 1.734375-1.16015625C8.4099219-1.6276484 8.4567969-2.4010859 8.4567969-3.1862422zM6.3591406.00125781c-.3867187.0-.984375-.24609375-1.1601562-1.20703121-.1054688-.5976563-.1054688-1.5117188-.1054688-2.0976563.0-.6445312.0-1.3007812.082031-1.8398437.1875-1.1835938.9257812-1.265625 1.1835937-1.265625.328125.0.984375.1757812 1.171875 1.1601562.09375.5625.09375 1.3125.09375 1.9453125.0.75.0 1.4179688-.1054687 2.0625-.1523438.93750001-.7148438 1.24218751-1.160156 1.24218751zm0 0"/><path id="path99" d="m10.882578-.01046094c0-.65625-.257812-1.04296876-.644531-1.04296876-.3281251.0-.5273439.24609376-.5273439.52734376.0.26953125.1992188.52734375.5273439.52734375.117187.0.246094-.03515625.351562-.12890625.02344-.0234375.03516-.0351563.04687-.0351563.01172.0.02344.0117188.02344.15234375.0.73828125-.351563 1.33593759-.6796876 1.66406259-.1054688.1054687-.1054688.1289062-.1054688.1640625.0.070312.046875.1054687.09375.1054687.1171874.0.9140624-.7617187.9140624-1.93359379zm0 0"/><path id="path100" d="m16.21168-6.3737422c0-.234375.0-.2578125-.234375-.2578125-.609375.6328125-1.488282.6328125-1.804688.6328125v.3164063c.199219.0.785156.0 1.300781-.2578125v5.15624996c0 .3515625-.03516.48046875-.925781.48046875h-.316406v.3046875c.351562-.03515625 1.207031-.03515625 1.605469-.03515625.398437.0 1.265625.0 1.617187.03515625v-.3046875h-.316406c-.902344.0-.925781-.1171875-.925781-.48046875zm4.936523 3.8789063c0-.7734375-.117187-1.9804688-.65625-3.1054688-.597656-1.21875-1.464844-1.875-1.558594-1.875-.05859.0-.105468.046875-.105468.1054688.0.035156.0.046875.199218.234375.972657.984375 1.535157 2.5664062 1.535157 4.640625.0 1.71093746-.363282 3.45703121-1.59375 4.7226562-.140625.1171875-.140625.1289063-.140625.1640625.0.058594.04687.1054688.105468.1054688.09375.0.996094-.6796875 1.582032-1.94531254.503906-1.1015625.632812-2.20312496.632812-3.04687496zm6.064453-4.4179688-1.429687.1054688v.3164062c.703125.0.773437.070312.773437.5507813v5.17968746c0 .45703125-.105468.45703125-.773437.45703125v.3046875c.328125-.01171875.855469-.03515625 1.101562-.03515625.257813.0.738282.0234375 1.113282.03515625v-.3046875c-.667969.0-.785157.0-.785157-.45703125zm2.124024 4.40625c.05859-1.4882812.902343-1.734375 1.242187-1.734375 1.019531.0 1.125 1.3476563 1.125 1.734375zm-.01172.2109375h2.789062c.210938.0.246094.0.246094-.2109375.0-.984375-.539062-1.9570312-1.78125-1.9570312-1.160156.0-2.074219 1.03125-2.074219 2.2734375.0 1.33593746 1.042969 2.29687496 2.191407 2.29687496 1.21875.0 1.664062-1.1015625 1.664062-1.28906246.0-.1054688-.08203-.1171875-.128906-.1171875-.09375.0-.117188.058594-.128906.140625-.351563 1.01953121-1.253907 1.01953121-1.347657 1.01953121-.503906.0-.902343-.29296875-1.125-.66796875C29.324961-1.2878047 29.324961-1.9440547 29.32496-2.2956172zm5.071289-1.9921875v-1.1601562c0-.8789063.480469-1.359375.914063-1.359375.03516.0.175781.0.328125.070312-.117188.046875-.292969.1757812-.292969.421875.0.234375.152344.4335937.421875.4335937.292969.0.433594-.1992187.433594-.4453125.0-.3632812-.363282-.6914062-.890625-.6914062-.703125.0-1.546875.5273437-1.546875 1.5820312v1.1484375H32.97828v.3046875h.785157v3.22265626c0 .45703125-.105469.45703125-.773438.45703125v.3046875c.386719-.01171875.855469-.03515625 1.136719-.03515625.398437.0.867187.0 1.265625.03515625v-.3046875h-.210938c-.738281.0-.761718-.1171875-.761718-.46875V-3.9831172h1.136718v-.3046875zm3.023438.3046875h1.429687v-.3046875h-1.429687v-1.8398437h-.246094c-.01172.8203125-.316406 1.8867187-1.289063 1.921875v.2226562h.84375v2.7539063c0 1.21874996.925782 1.33593746 1.289063 1.33593746.703125.0.984375-.703125.984375-1.33593746v-.5742188h-.246094v.5507813c0 .73828121-.304687 1.11328121-.667969 1.11328121-.667968.0-.667968-.90234371-.667968-1.07812501zm6.591796 1.4765625c.05859-1.4882812.902344-1.734375 1.242188-1.734375 1.019531.0 1.125 1.3476563 1.125 1.734375zm-.01172.2109375h2.789062c.210938.0.246094.0.246094-.2109375.0-.984375-.539063-1.9570312-1.78125-1.9570312-1.160156.0-2.074219 1.03125-2.074219 2.2734375.0 1.33593746 1.042969 2.29687496 2.191406 2.29687496 1.21875.0 1.664063-1.1015625 1.664063-1.28906246.0-.1054688-.08203-.1171875-.128906-.1171875-.09375.0-.117188.058594-.128907.140625-.351562 1.01953121-1.253906 1.01953121-1.347656 1.01953121-.503906.0-.902344-.29296875-1.125-.66796875C43.999766-1.2878047 43.999766-1.9440547 43.999766-2.2956172zm4.426757-1.125v2.66015626c0 .45703125-.117187.45703125-.785156.45703125v.3046875c.351563-.01171875.855469-.03515625 1.125-.03515625.257813.0.785156.0234375 1.113281.03515625v-.3046875c-.65625.0-.773437.0-.773437-.45703125V-2.5885859c0-1.03125.714844-1.59375 1.347656-1.59375.621094.0.738281.5390625.738281 1.1015625v2.32031246c0 .45703125-.117187.45703125-.773437.45703125v.3046875c.339844-.01171875.855469-.03515625 1.125-.03515625.257812.0.773437.0234375 1.113281.03515625v-.3046875c-.667969.0-.785156.0-.785156-.45703125V-2.5885859c0-1.03125.714844-1.59375 1.347656-1.59375.632813.0.738281.5390625.738281 1.1015625v2.32031246c0 .45703125-.105468.45703125-.773437.45703125v.3046875c.351562-.01171875.855469-.03515625 1.125-.03515625.257812.0.773437.0234375 1.113281.03515625v-.3046875c-.515625.0-.761719.0-.773437-.3046875V-2.5065547c0-.8554687.0-1.171875-.316407-1.5234375-.128906-.1757812-.46875-.375-1.042968-.375-.832032.0-1.277344.5976563-1.441407.984375-.140625-.8671875-.878906-.984375-1.324218-.984375-.726563.0-1.195313.4335938-1.476563 1.0546875v-1.0546875l-1.40625.1171875v.3046875c.703125.0.785156.070312.785156.5625zm8.91211-.328125v-.65625l-1.429688.1171875v.3046875c.703125.0.773438.058594.773438.4921875v4.6640625c0 .4570313-.105469.4570313-.773438.4570313v.3046875c.339844-.011719.855469-.035156 1.113282-.035156.269531.0.773437.023437 1.125.035156V1.6301641c-.667969.0-.773438.0-.773438-.4570313V-.58467969c.04687.15234375.46875.69140625 1.21875.69140625 1.183594.0 2.226563-.97265625 2.226563-2.26171876.0-1.265625-.972657-2.25-2.085938-2.25-.773437.0-1.195312.4453125-1.394531.65625zm.03516 2.6132813v-2.2148438c.28125-.515625.773438-.796875 1.277344-.796875.726562.0 1.335937.8671875 1.335937 1.9921875.0 1.20703126-.691406 2.05078126-1.429687 2.05078126-.398438.0-.773438-.19921875-1.042969-.609375C57.37379-.92452344 57.37379-.93624219 57.37379-1.1354609zm5.510742-2.8476563h1.429688v-.3046875h-1.429688v-1.8398437h-.246093c-.01172.8203125-.316407 1.8867187-1.289063 1.921875v.2226562h.84375v2.7539063c0 1.21874996.925781 1.33593746 1.289063 1.33593746.703125.0.984375-.703125.984375-1.33593746V-1.8034297H64.22047v.5507813c0 .73828121-.304688 1.11328121-.667969 1.11328121-.667969.0-.667969-.90234371-.667969-1.07812501zm6.008789.6328125c.257813-.6210937.761719-.6328125.925782-.6328125v-.3046875c-.234375.011719-.515625.023437-.75.023437-.175782.0-.644532-.023437-.867188-.023437v.3046875c.304688.011719.46875.1757813.46875.4335938.0.09375-.01172.1171875-.05859.234375L67.604263-.86592969 66.5027-3.5495234c-.04687-.09375-.05859-.140625-.05859-.1757813.0-.2578125.363281-.2578125.550781-.2578125v-.3046875c-.257813.0-.914063.023437-1.078125.023437-.269531.0-.667969-.011719-.972656-.023437v.3046875c.480468.0.667968.0.808593.3515625l1.5 3.63281251c-.05859.12890625-.199218.45703125-.257812.5859375-.210938.55078129-.492188 1.24218749-1.136719 1.24218749-.04687.0-.269531.0-.46875-.1875.316406-.035156.398438-.2578125.398438-.4101562.0-.26953129-.199219-.42187504-.421875-.42187504-.199219.0-.421875.12890625-.421875.42187504.0.4570312.421875.8085937.914062.8085937.632813.0 1.042969-.5625 1.277344-1.13671874zm0 0"/></g><path id="path101" d="M127.56062 70.86702V31.58015" style="fill:none;stroke:currentColor;stroke-width:.3985;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(1.3333333,0,0,-1.3333333,1074.4973,283.29867)"/><path id="path102" d="M-2.07224 2.39104C-1.69365.95639-.84999.27895.0.0-.84999-.27895-1.69365-.95639-2.07224-2.39104" style="fill:none;stroke:currentColor;stroke-width:.3985;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(0,1.3333333,1.3333333,0,1244.5782,241.45747)"/><g id="g102" aria-label="(0,4)assignedto4" transform="matrix(1.3333333,0,0,1.3333333,1189.892,180.79333)"><path id="path103" d="m3.2919375 2.3903516c0-.035156.0-.046875-.1640625-.2226563C1.8856875.91378906 1.5575625-.96121094 1.5575625-2.4963672c0-1.7226562.3867188-3.4570312 1.6054688-4.7109375.1289062-.1171875.1289062-.1289062.1289062-.1640625.0-.070312-.035156-.1054687-.09375-.1054687-.1054687.0-.9960937.6796875-1.5820312 1.9453125-.515625 1.1015625-.63281255 2.203125-.63281255 3.0351562.0.7851563.11718755 1.99218751.65625005 3.11718751C2.23725 1.8395703 3.0927188 2.4958203 3.1981875 2.4958203c.058594.0.09375-.035156.09375-.1054687zm5.1650391-5.578125c0-.796875-.046875-1.59375-.3984375-2.3320313-.4570313-.9609375-1.2773438-1.1132812-1.6875-1.1132812-.5976563.0-1.3359375.2578125-1.734375 1.1835937-.328125.6914063-.375 1.4648438-.375 2.2617188.0.75.046875 1.640625.4453125 2.40234371.4335937.80859375 1.1601562 1.0078125 1.6523437 1.0078125.5390625.0 1.2890625-.2109375 1.734375-1.16015625C8.4101016-1.6291797 8.4569766-2.4026172 8.4569766-3.1877734zM6.3593203-.0002734375c-.3867187.0-.984375-.2460937525-1.1601562-1.2070312625-.1054688-.5976562-.1054688-1.5117187-.1054688-2.0976562.0-.6445313.0-1.3007813.082031-1.8398438.1875-1.1835937.9257812-1.265625 1.1835937-1.265625.328125.0.984375.1757813 1.171875 1.1601563.09375.5625.09375 1.3125.09375 1.9453125.0.75.0 1.4179687-.1054687 2.0625-.1523438.93749996-.7148438 1.2421874625-1.160156 1.2421874625zm0 0"/><path id="path104" d="m10.882758-.01199219c0-.65625-.257813-1.04296871-.644531-1.04296871-.3281254.0-.5273442.24609371-.5273442.52734371.0.26953125.1992188.5273437525.5273442.5273437525.117187.0.246093-.0351562525.351562-.1289062525.02344-.0234375.03516-.0351563.04687-.0351563.01172.0.02344.0117188.02344.15234375.0.73828125-.351563 1.33593744-.6796879 1.66406244-.1054688.1054688-.1054688.1289063-.1054688.1640625.0.070312.046875.1054688.09375.1054688.1171877.0.9140627-.7617188.9140627-1.93359374zm0 0"/><path id="path105" d="m16.211859-1.6408984v.86718746c0 .3515625-.02344.46875-.761718.46875h-.210938v.3046875025c.410156-.0351562525.9375-.0351562525 1.347656-.0351562525.421875.0.949219.0 1.359375.0351562525V-.30496094h-.210937c-.738281.0-.761719-.1171875-.761719-.46875V-1.6408984h.996094v-.3164063h-.996094v-4.5234375c0-.1992187.0-.2578125-.152344-.2578125-.09375.0-.117187.0-.199218.1171875l-3.058594 4.6640625v.3164063zm.05859-.3164063h-2.425781l2.425781-3.7148437zm4.87793-.5390625c0-.7734375-.117188-1.9804687-.65625-3.1054687-.597656-1.21875-1.464844-1.875-1.558594-1.875-.05859.0-.105469.046875-.105469.1054687.0.035156.0.046875.199219.234375.972656.984375 1.535156 2.5664063 1.535156 4.640625.0 1.71093751-.363281 3.45703126-1.59375 4.7226563-.140625.1171875-.140625.1289062-.140625.1640625.0.058594.04687.1054687.105469.1054687.09375.0.996094-.6796875 1.582031-1.94531249.503907-1.1015625.632813-2.20312501.632813-3.04687501zm7.623047 1.73437501c.03516.3984375.304687.8203125.773437.8203125.210938.0.820313-.140625.820313-.94921875V-1.4416797h-.246094v.55078126c0 .5859375-.246094.64453125-.363281.64453125-.328125.0-.363282-.45703125-.363282-.50390625V-2.7424609c0-.4101563.0-.8085938-.363281-1.171875-.386719-.3867188-.878906-.5507813-1.359375-.5507813-.820312.0-1.511719.46875-1.511719 1.125.0.3046875.199219.46875.457032.46875.28125.0.46875-.1992187.46875-.4570312.0-.1171875-.05859-.4453125-.515625-.4570313.269531-.3515625.761718-.4570312 1.078125-.4570312.492187.0 1.054687.3867187 1.054687 1.2773437v.3632813c-.503906.035156-1.207031.058594-1.828125.3632812-.75.3398438-.996094.8554688-.996094 1.28906251.0.80859375.960938 1.0546875 1.59375 1.0546875.65625.0 1.113282-.3984375 1.300782-.8671875zm-.07031-1.62890621v.9960937c0 .94921876-.714844 1.28906251-1.160156 1.28906251-.492188.0-.902344-.3515625-.902344-.85546875.0-.53906246.421875-1.37109376 2.0625-1.42968746zm3.811524.4570312c.222656.035156 1.03125.1992188 1.03125.9140625.0.51562501-.351563.91406251-1.125.91406251-.832032.0-1.195313-.57421875-1.382813-1.41796871-.03516-.1289063-.03516-.1757813-.140625-.1757813-.128906.0-.128906.070312-.128906.2578125v1.31250001c0 .1640625.0.234375.105469.234375.05859.0.07031.0.257812-.19921875.01172-.01171875.01172-.03515625.199219-.22265625.433594.421875.878906.421875 1.089844.421875 1.148437.0 1.605468-.66796875 1.605468-1.38281251.0-.5273437-.292968-.8203125-.421875-.9492187-.328125-.3164063-.714843-.3984375-1.136718-.46875-.550782-.1171875-1.21875-.2460938-1.21875-.8203125.0-.3515625.257812-.7617188 1.113281-.7617188 1.101562.0 1.148437.9023438 1.171875 1.2070313.0.09375.09375.09375.117187.09375.128907.0.128907-.046875.128907-.2460938v-.9960937c0-.1757813.0-.2460938-.117188-.2460938-.04687.0-.07031.0-.199219.1171875-.02344.046875-.128906.1289063-.164062.1640625-.375-.28125-.785156-.28125-.9375-.28125-1.21875.0-1.59375.6679688-1.59375 1.2304688.0.3398437.164062.6210937.433594.84375.316406.2578125.597656.3164062 1.3125.4570312zm3.928711.0c.222656.035156 1.03125.1992188 1.03125.9140625.0.51562501-.351563.91406251-1.125.91406251-.832032.0-1.195313-.57421875-1.382813-1.41796871-.03516-.1289063-.03516-.1757813-.140625-.1757813-.128906.0-.128906.070312-.128906.2578125v1.31250001c0 .1640625.0.234375.105469.234375.05859.0.07031.0.257812-.19921875.01172-.01171875.01172-.03515625.199219-.22265625.433594.421875.878906.421875 1.089844.421875 1.148437.0 1.605468-.66796875 1.605468-1.38281251.0-.5273437-.292968-.8203125-.421875-.9492187-.328125-.3164063-.714843-.3984375-1.136718-.46875-.550782-.1171875-1.21875-.2460938-1.21875-.8203125.0-.3515625.257812-.7617188 1.113281-.7617188 1.101562.0 1.148437.9023438 1.171875 1.2070313.0.09375.09375.09375.117187.09375.128907.0.128907-.046875.128907-.2460938v-.9960937c0-.1757813.0-.2460938-.117188-.2460938-.04687.0-.07031.0-.199219.1171875-.02344.046875-.128906.1289063-.164062.1640625-.375-.28125-.785156-.28125-.9375-.28125-1.21875.0-1.59375.6679688-1.59375 1.2304688.0.3398437.164062.6210937.433594.84375.316406.2578125.597656.3164062 1.3125.4570312zm3.612304-2.4726562-1.394531.1171875v.3046875c.65625.0.738281.058594.738281.5507812v2.67187501c0 .45703125-.105468.45703125-.773437.45703125v.3046875025c.316407-.0117187525.85547-.0351562525 1.101563-.0351562525.339844.0.691407.0234375 1.03125.0351562525V-.30496094c-.65625.0-.703125-.0585938-.703125-.4453125zm.04687-1.734375c0-.3164063-.246093-.5273438-.527343-.5273438-.316407.0-.527344.2695313-.527344.5273438.0.2695312.210937.5273437.527344.5273437.28125.0.527343-.1992187.527343-.5273437zm3.178711 4.4296875c-.867187.0-.867187-.9960938-.867187-1.2304688.0-.2695312.01172-.5859375.152343-.8320312.08203-.1171875.316407-.3984375.714844-.3984375.867188.0.867188.9960937.867188 1.21875.0.2695312-.01172.5976562-.164063.84375-.08203.1171875-.304687.3984375-.703125.3984375zm-1.160156.3867187c0-.035156.0-.2695312.175781-.46875.386719.28125.796875.3046875.984375.3046875.925781.0 1.605469-.6796875 1.605469-1.453125.0-.3632812-.152344-.7382812-.398438-.9609375.351563-.3398437.714844-.3867187.890625-.3867187.02344.0.07031.0.105469.0-.117187.046875-.164062.1523437-.164062.2695312.0.1757813.128906.2929688.292968.2929688.09375.0.28125-.070312.28125-.2929688.0-.1757812-.117187-.4921875-.503906-.4921875-.199219.0-.632812.058594-1.054687.46875-.421875-.328125-.84375-.3632812-1.054688-.3632812-.925781.0-1.617187.6914062-1.617187 1.453125.0.4453125.222656.8203125.46875 1.03125-.128907.1523437-.304688.4804687-.304688.8203125.0.31640621.128906.69140621.433594.89062496-.597656.17578125-.914063.59765625-.914063.99609375.0.71484379.984375 1.26562499 2.203125 1.26562499 1.171875.0 2.203125-.5039062 2.203125-1.28906249.0-.33984375-.140625-.85546875-.644531-1.125-.527344-.28125-1.101562-.28125-1.710937-.28125-.246094.0-.679688.0-.75-.0117188-.316407-.046875-.527344-.35156241-.527344-.66796871zm1.441406 3.1523438c-1.007812.0-1.699219-.515625-1.699219-1.04296879.0-.45703125.375-.8203125.820313-.85546875h.585937c.855469.0 1.96875.0 1.96875.85546875.0.53906249-.703125 1.04296879-1.675781 1.04296879zm3.585938-5.25v2.66015621c0 .45703125-.117188.45703125-.785157.45703125v.3046875025c.351563-.0117187525.855469-.0351562525 1.125-.0351562525.257813.0.785157.0234375 1.113282.0351562525V-.30496094c-.65625.0-.773438.0-.773438-.45703125V-2.5901172c0-1.03125.714844-1.59375 1.347656-1.59375.621094.0.738282.5390625.738282 1.1015625v2.32031251c0 .45703125-.117188.45703125-.773438.45703125v.3046875025c.339844-.0117187525.855469-.0351562525 1.125-.0351562525.257813.0.773438.0234375 1.113281.0351562525V-.30496094c-.515625.0-.773437.0-.785156-.3046875V-2.5080859c0-.8554688.0-1.171875-.304687-1.5234375-.140625-.1757813-.46875-.375-1.042969-.375-.726563.0-1.195313.4335937-1.476563 1.0546875v-1.0546875l-1.40625.1171875v.3046875c.703125.0.785157.070312.785157.5625zm5.545898.9140625c.05859-1.4882813.902344-1.734375 1.242188-1.734375 1.019531.0 1.125 1.3476562 1.125 1.734375zm-.01172.2109375h2.789063c.210937.0.246094.0.246094-.2109375.0-.984375-.539063-1.9570313-1.78125-1.9570313-1.160157.0-2.074219 1.03125-2.074219 2.2734375.0 1.33593751 1.042969 2.29687501 2.191406 2.29687501 1.21875.0 1.664063-1.1015625 1.664063-1.28906251.0-.1054687-.08203-.1171875-.128907-.1171875-.09375.0-.117187.058594-.128906.140625C55.106384-.14089844 54.20404-.14089844 54.11029-.14089844c-.503906.0-.902344-.29296875-1.125-.66796875C52.680609-1.2893359 52.680609-1.9455859 52.680609-2.2971484zm7.113282 1.74609371v.65625l1.46485-.1054687475V-.30496094c-.703125.0-.773437-.0703125-.773437-.5625V-6.9143359l-1.441406.1054687v.3164063c.703125.0.785156.070312.785156.5507812v2.15625c-.292969-.3632812-.726563-.6210937-1.265625-.6210937-1.171875.0-2.214844.984375-2.214844 2.2617187.0 1.26562501.972656 2.25000001 2.109375 2.25000001.644531.0 1.089844-.33984375 1.335938-.65625zm0-2.67187501v2.0507813c0 .17578121.0.19921871-.105469.36328121-.304688.48046875-.75.703125-1.183594.703125-.445312.0-.796875-.2578125-1.042969-.64453125-.257812-.41015626-.292968-.97265626-.292968-1.38281246.0-.3632813.02344-.9609375.316406-1.4179688.210937-.3046875.585937-.6328125 1.125-.6328125.351562.0.761719.1523438 1.078125.5976563.105469.1640625.105469.1875.105469.3632812zm6.799804-.7617187h1.429688v-.3046875h-1.429688v-1.8398438h-.246093c-.01172.8203125-.316407 1.8867188-1.289063 1.921875v.2226563h.84375v2.7539062c0 1.21875001.925781 1.33593751 1.289063 1.33593751.703125.0.984375-.703125.984375-1.33593751v-.5742187h-.246094v.5507812c0 .73828126-.304688 1.11328126-.667969 1.11328126-.667969.0-.667969-.90234376-.667969-1.07812496zm6.837891 1.8515625c0-1.2773438-.996094-2.3320313-2.191406-2.3320313-1.253907.0-2.214844 1.0898438-2.214844 2.3320313.0 1.28906246 1.03125 2.23828121 2.203125 2.23828121 1.207031.0 2.203125-.97265625 2.203125-2.23828121zM71.240173-.14089844c-.433594.0-.867188-.2109375-1.136719-.66796875-.257813-.43359371-.257813-1.04296871-.257813-1.40625001.0-.3867187.0-.9257812.246094-1.359375.269531-.4570312.738281-.6679687 1.136719-.6679687.433594.0.867187.2226562 1.125.6445312.257812.4335938.257812 1.0078125.257812 1.3828125.0.3632813.0.9023438-.222656 1.33593751-.222656.4453125-.65625.73828125-1.148437.73828125zm8.733398-1.49999996v.86718746c0 .3515625-.02344.46875-.761719.46875h-.210937v.3046875025c.410156-.0351562525.9375-.0351562525 1.347656-.0351562525.421875.0.949219.0 1.359375.0351562525V-.30496094h-.210937c-.738282.0-.761719-.1171875-.761719-.46875V-1.6408984h.996094v-.3164063H80.73529v-4.5234375c0-.1992187.0-.2578125-.152344-.2578125-.09375.0-.117187.0-.199219.1171875l-3.058593 4.6640625v.3164063zm.05859-.3164063H77.60638l2.425781-3.7148437zm0 0"/></g><path id="path106" d="m14.17339 19.84267c40.07496 18.68739 73.31227 18.68739 113.02609.16841" style="fill:none;stroke:currentColor;stroke-width:.3985;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(1.3333333,0,0,-1.3333333,1074.4973,283.29867)"/><path id="path107" d="M-2.07224 2.39104C-1.69365.95639-.84999.27895.0.0-.84999-.27895-1.69365-.95639-2.07224-2.39104" style="fill:none;stroke:currentColor;stroke-width:.3985;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-dasharray:none;stroke-opacity:1" transform="matrix(1.2084,0.56346667,0.56346667,-1.2084,1244.3374,256.72952)"/><path id="path108" d="m1.1026484-3.4216953v2.66015624c0 .45703125-.11718746.45703125-.78515621.45703125V.0001796875C.66905469-.01153906 1.1729609-.03497656 1.4424922-.03497656c.2578125.0.7851562.0234375 1.1132812.0351562475V-.30450781c-.65625.0-.7734375.0-.7734375-.45703125V-2.5896641c0-1.03125.7148438-1.59375 1.3476563-1.59375.6210937.0.7382812.5390625.7382812 1.1015625v2.32031254c0 .45703125-.1171875.45703125-.7734375.45703125V.0001796875c.3398438-.0117187475.8554688-.0351562475 1.125-.0351562475.2578125.0.7734375.0234375 1.1132813.0351562475V-.30450781c-.515625.0-.7734375.0-.7851563-.3046875V-2.5076328c0-.8554688.0-1.171875-.3046875-1.5234375-.140625-.1757813-.46875-.375-1.0429687-.375-.7265625.0-1.1953125.4335937-1.4765625 1.0546875v-1.0546875l-1.40625001.1171875v.3046875c.70312501.0.78515621.070312.78515621.5625zm5.5458985.9140625c.058594-1.4882813.9023437-1.734375 1.2421875-1.734375 1.0195312.0 1.125 1.3476562 1.125 1.734375zm-.011719.2109375h2.7890625c.2109375.0.2460938.0.2460938-.2109375.0-.984375-.5390625-1.9570313-1.78125-1.9570313-1.1601563.0-2.0742188 1.03125-2.0742188 2.2734375.0 1.33593754 1.0429688 2.29687504 2.1914063 2.29687504 1.21875.0 1.6640625-1.1015625 1.6640625-1.28906254.0-.1054687-.082031-.1171875-.1289063-.1171875-.09375.0-.1171875.058594-.1289062.140625C9.0626092-.14044531 8.1602654-.14044531 8.0665154-.14044531c-.5039062.0-.9023437-.29296875-1.125-.66796875-.3046873-.48046874-.3046873-1.13671874-.3046875-1.48828124zm6.1845701-.046875c.292969-.375.679688-.8671875.914063-1.125.316406-.3515625.714844-.5039063 1.183594-.515625v-.3046875c-.257813.011719-.550782.023437-.808594.023437-.304688.0-.832031-.023437-.960938-.023437v.3046875c.210938.023437.292969.1523437.292969.3046875.0.1640625-.105469.2929687-.152344.3515625l-.621093.7734375-.773438-.9960938c-.09375-.1054687-.09375-.1289062-.09375-.1875.0-.1523437.152344-.234375.351563-.2460937v-.3046875c-.257813.0-.914063.023437-1.078125.023437-.210938.0-.679688-.011719-.949219-.023437v.3046875c.703125.0.714844.011719 1.183594.609375l.984375 1.2773437-.9375 1.19531254c-.480469.57421875-1.066407.59765625-1.277344.59765625V.0001796875C10.337023-.02325781 10.65343-.03497656 10.911242-.03497656c.28125.0.703125.0234375.949219.0351562475V-.30450781c-.222656-.0351563-.292969-.1640625-.292969-.31640625.0-.2109375.292969-.53906254.890625-1.26562504l.761719.99609379c.08203.1171875.210937.26953125.210937.328125.0.09375-.09375.24609375-.363281.2578125V.0001796875C13.37218-.01153906 13.922961-.03497656 14.145617-.03497656c.269531.0.65625.01171875.960938.0351562475V-.30450781c-.539063.0-.726563-.0234375-.949219-.31640625zm4.122071-1.640625h1.429687v-.3046875h-1.429687v-1.8398438h-.246094c-.01172.8203125-.316406 1.8867188-1.289062 1.921875v.2226563h.84375v2.7539062c0 1.21875004.925781 1.33593754 1.289062 1.33593754.703125.0.984375-.703125.984375-1.33593754v-.5742187h-.246094v.5507812c0 .73828129-.304687 1.11328129-.667968 1.11328129-.667969.0-.667969-.90234379-.667969-1.07812499zm8.786133 3.22265624c.03516.3984375.304687.8203125.773437.8203125.210938.0.820313-.140625.820313-.94921875V-1.4412266h-.246094v.55078129c0 .5859375-.246094.64453125-.363281.64453125-.328125.0-.363282-.45703125-.363282-.50390625V-2.7420078c0-.4101563.0-.8085938-.363281-1.171875-.386719-.3867188-.878906-.5507813-1.359375-.5507813-.820312.0-1.511719.46875-1.511719 1.125.0.3046875.199219.46875.457032.46875.28125.0.46875-.1992187.46875-.4570312.0-.1171875-.05859-.4453125-.515625-.4570313.269531-.3515625.761718-.4570312 1.078125-.4570312.492187.0 1.054687.3867187 1.054687 1.2773437v.3632813c-.503906.035156-1.207031.058594-1.828125.3632812-.75.3398438-.996094.8554688-.996094 1.28906254.0.80859375.960938 1.0546875 1.59375 1.0546875.65625.0 1.113282-.3984375 1.300782-.8671875zm-.07031-1.62890624v.9960937c0 .94921879-.714844 1.28906254-1.160156 1.28906254-.492188.0-.902344-.3515625-.902344-.85546875.0-.53906249.421875-1.37109379 2.0625-1.42968749zm3.808594.4570312c.222656.035156 1.03125.1992188 1.03125.9140625.0.51562504-.351563.91406254-1.125.91406254-.832031.0-1.195313-.57421875-1.382813-1.41796874-.03516-.1289063-.03516-.1757813-.140625-.1757813-.128906.0-.128906.070312-.128906.2578125v1.31250004c0 .1640625.0.234375.105469.234375.05859.0.07031.0.257812-.19921875.01172-.01171875.01172-.03515625.199219-.22265625.433594.421875.878906.421875 1.089844.421875 1.148437.0 1.605469-.66796875 1.605469-1.38281254.0-.5273437-.292969-.8203125-.421875-.9492187-.328125-.3164063-.714844-.3984375-1.136719-.46875-.550781-.1171875-1.21875-.2460938-1.21875-.8203125.0-.3515625.257812-.7617188 1.113281-.7617188 1.101563.0 1.148438.9023438 1.171875 1.2070313.0.09375.09375.09375.117188.09375.128906.0.128906-.046875.128906-.2460938v-.9960937c0-.1757813.0-.2460938-.117188-.2460938-.04687.0-.07031.0-.199218.1171875-.02344.046875-.128907.1289063-.164063.1640625-.375-.28125-.785156-.28125-.9375-.28125-1.21875.0-1.59375.6679688-1.59375 1.2304688.0.3398437.164063.6210937.433594.84375.316406.2578125.597656.3164062 1.3125.4570312zm3.928711.0c.222656.035156 1.03125.1992188 1.03125.9140625.0.51562504-.351563.91406254-1.125.91406254-.832031.0-1.195313-.57421875-1.382813-1.41796874-.03516-.1289063-.03516-.1757813-.140625-.1757813-.128906.0-.128906.070312-.128906.2578125v1.31250004c0 .1640625.0.234375.105469.234375.05859.0.07031.0.257812-.19921875.01172-.01171875.01172-.03515625.199219-.22265625.433594.421875.878906.421875 1.089844.421875 1.148437.0 1.605469-.66796875 1.605469-1.38281254.0-.5273437-.292969-.8203125-.421875-.9492187-.328125-.3164063-.714844-.3984375-1.136719-.46875-.550781-.1171875-1.21875-.2460938-1.21875-.8203125.0-.3515625.257812-.7617188 1.113281-.7617188 1.101563.0 1.148438.9023438 1.171875 1.2070313.0.09375.09375.09375.117188.09375.128906.0.128906-.046875.128906-.2460938v-.9960937c0-.1757813.0-.2460938-.117188-.2460938-.04687.0-.07031.0-.199218.1171875-.02344.046875-.128907.1289063-.164063.1640625-.375-.28125-.785156-.28125-.9375-.28125-1.21875.0-1.59375.6679688-1.59375 1.2304688.0.3398437.164063.6210937.433594.84375.316406.2578125.597656.3164062 1.3125.4570312zm3.615234-2.4726562-1.394531.1171875v.3046875c.65625.0.738281.058594.738281.5507812v2.67187504c0 .45703125-.105469.45703125-.773437.45703125V.0001796875C35.898547-.01153906 36.437609-.03497656 36.683703-.03497656c.339844.0.691406.0234375 1.03125.0351562475V-.30450781c-.65625.0-.703125-.0585938-.703125-.4453125zm.04687-1.734375c0-.3164063-.246094-.5273438-.527344-.5273438-.316406.0-.527343.2695313-.527343.5273438.0.2695312.210937.5273437.527343.5273437.28125.0.527344-.1992187.527344-.5273437zm3.175781 4.4296875c-.867187.0-.867187-.9960938-.867187-1.2304688.0-.2695312.01172-.5859375.152344-.8320312.08203-.1171875.316406-.3984375.714843-.3984375.867188.0.867188.9960937.867188 1.21875.0.2695312-.01172.5976562-.164063.84375-.08203.1171875-.304687.3984375-.703125.3984375zm-1.160156.3867187c0-.035156.0-.2695312.175781-.46875.386719.28125.796875.3046875.984375.3046875.925782.0 1.605469-.6796875 1.605469-1.453125.0-.3632812-.152344-.7382812-.398437-.9609375.351562-.3398437.714843-.3867187.890625-.3867187.02344.0.07031.0.105468.0-.117187.046875-.164062.1523437-.164062.2695312.0.1757813.128906.2929688.292969.2929688.09375.0.28125-.070312.28125-.2929688.0-.1757812-.117188-.4921875-.503907-.4921875-.199218.0-.632812.058594-1.054687.46875-.421875-.328125-.84375-.3632812-1.054688-.3632812-.925781.0-1.617187.6914062-1.617187 1.453125.0.4453125.222656.8203125.46875 1.03125-.128906.1523437-.304688.4804687-.304688.8203125.0.31640624.128907.69140624.433594.89062499-.597656.17578125-.914062.59765625-.914062.99609375.0.71484376.984375 1.26562496 2.203125 1.26562496 1.171875.0 2.203125-.5039062 2.203125-1.28906246.0-.33984375-.140625-.85546875-.644532-1.125-.527343-.28125-1.101562-.28125-1.710937-.28125-.246094.0-.679688.0-.75-.0117188-.316406-.046875-.527344-.35156244-.527344-.66796874zm1.441406 3.1523438c-1.007812.0-1.699218-.515625-1.699218-1.04296876.0-.45703125.375-.8203125.820312-.85546875h.585938c.855468.0 1.96875.0 1.96875.85546875.0.53906246-.703125 1.04296876-1.675782 1.04296876zm3.585938-5.25v2.66015624c0 .45703125-.117188.45703125-.785156.45703125V.0001796875c.351562-.0117187475.855468-.0351562475 1.125-.0351562475.257812.0.785156.0234375 1.113281.0351562475V-.30450781c-.65625.0-.773438.0-.773438-.45703125V-2.5896641c0-1.03125.714844-1.59375 1.347657-1.59375.621093.0.738281.5390625.738281 1.1015625v2.32031254c0 .45703125-.117188.45703125-.773438.45703125V.0001796875c.339844-.0117187475.855469-.0351562475 1.125-.0351562475.257813.0.773438.0234375 1.113282.0351562475V-.30450781c-.515625.0-.773438.0-.785157-.3046875V-2.5076328c0-.8554688.0-1.171875-.304687-1.5234375-.140625-.1757813-.46875-.375-1.042969-.375-.726562.0-1.195312.4335937-1.476562 1.0546875v-1.0546875l-1.40625.1171875v.3046875c.703125.0.785156.070312.785156.5625zm5.537109.0v2.66015624c0 .45703125-.117187.45703125-.785156.45703125V.0001796875c.351563-.0117187475.855469-.0351562475 1.125-.0351562475.257813.0.785156.0234375 1.113281.0351562475V-.30450781c-.65625.0-.773437.0-.773437-.45703125V-2.5896641c0-1.03125.714844-1.59375 1.347656-1.59375.621094.0.738281.5390625.738281 1.1015625v2.32031254c0 .45703125-.117187.45703125-.773437.45703125V.0001796875c.339844-.0117187475.855469-.0351562475 1.125-.0351562475.257812.0.773437.0234375 1.113281.0351562475V-.30450781c-.667969.0-.785156.0-.785156-.45703125V-2.5896641c0-1.03125.714844-1.59375 1.347656-1.59375.632813.0.738281.5390625.738281 1.1015625v2.32031254c0 .45703125-.105468.45703125-.773437.45703125V.0001796875c.351562-.0117187475.855469-.0351562475 1.125-.0351562475.257812.0.773437.0234375 1.113281.0351562475V-.30450781c-.515625.0-.761719.0-.773437-.3046875V-2.5076328c0-.8554688.0-1.171875-.316407-1.5234375-.128906-.1757813-.46875-.375-1.042968-.375-.832032.0-1.277344.5976562-1.441407.984375-.140625-.8671875-.878906-.984375-1.324218-.984375-.726563.0-1.195313.4335937-1.476563 1.0546875v-1.0546875l-1.40625.1171875v.3046875c.703125.0.785156.070312.785156.5625zm8.314453.9140625c.05859-1.4882813.902344-1.734375 1.242188-1.734375 1.019531.0 1.125 1.3476562 1.125 1.734375zm-.01172.2109375h2.789062c.210938.0.246094.0.246094-.2109375.0-.984375-.539063-1.9570313-1.78125-1.9570313-1.160156.0-2.074219 1.03125-2.074219 2.2734375.0 1.33593754 1.042969 2.29687504 2.191406 2.29687504 1.21875.0 1.664063-1.1015625 1.664063-1.28906254.0-.1054687-.08203-.1171875-.128906-.1171875-.09375.0-.117188.058594-.128907.140625-.351562 1.01953129-1.253906 1.01953129-1.347656 1.01953129-.503906.0-.902344-.29296875-1.125-.66796875C57.941516-1.2888828 57.941516-1.9451328 57.941516-2.2966953zm4.426757-1.125v2.66015624c0 .45703125-.117187.45703125-.785156.45703125V.0001796875c.351563-.0117187475.855469-.0351562475 1.125-.0351562475.257813.0.785156.0234375 1.113281.0351562475V-.30450781c-.65625.0-.773437.0-.773437-.45703125V-2.5896641c0-1.03125.714844-1.59375 1.347656-1.59375.621094.0.738281.5390625.738281 1.1015625v2.32031254c0 .45703125-.117187.45703125-.773437.45703125V.0001796875c.339844-.0117187475.855469-.0351562475 1.125-.0351562475.257812.0.773437.0234375 1.113281.0351562475V-.30450781c-.515625.0-.773437.0-.785156-.3046875V-2.5076328c0-.8554688.0-1.171875-.304688-1.5234375-.140625-.1757813-.46875-.375-1.042968-.375-.726563.0-1.195313.4335937-1.476563 1.0546875v-1.0546875l-1.40625.1171875v.3046875c.703125.0.785156.070312.785156.5625zm5.885743-.5625h1.429687v-.3046875h-1.429687v-1.8398438h-.246094c-.01172.8203125-.316406 1.8867188-1.289063 1.921875v.2226563h.84375v2.7539062c0 1.21875004.925782 1.33593754 1.289063 1.33593754.703125.0.984375-.703125.984375-1.33593754v-.5742187h-.246094v.5507812c0 .73828129-.304687 1.11328129-.667969 1.11328129-.667968.0-.667968-.90234379-.667968-1.07812499zm0 0" aria-label="nextassignment" transform="matrix(1.3333333,0,0,1.3333333,1122.0493,230.87867)"/></g></svg><br><p>In this case we are considering a &ldquo;path&rdquo; (in the previous sense) from $(0, 0)$ to $(0, 4)$ (and assigning to them 2 and 4 respectively) and <em>simultaneously</em> excluding cells from $(0, 1)$ to $(0, 3)$ by forcing them to be empty. In every path stemming from this we will never assign values to the cells before $(0,4)$.</p><p>Fixing the order is not difficult per se, but combining it with partial solutions seemed tricky: given a partial solution $S$ I would have to write a function that computed an ordering of cell grids that had all the cells in $S$ as a prefix, and then computed an ordering for the remaining cells that would depend on $S$ only.</p><p>After banging my head on this for a while, I wrote this plain snippet that did the job:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>prefixed_sequence_generator</span><span class=p>(</span><span class=n>prefix</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>int</span><span class=p>]]):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>sequence</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>grid</span> <span class=o>=</span> <span class=n>grid_coords</span><span class=p>()</span> <span class=o>-</span> <span class=nb>set</span><span class=p>(</span><span class=n>prefix</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>yield from</span> <span class=n>prefix</span>
</span></span><span class=line><span class=cl>        <span class=k>yield from</span> <span class=n>grid</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>sequence</span>
</span></span></code></pre></td></tr></table></div></div><p>Basically we get a list ($S$) in input and return a generator that yields the elements in $S$ first and then relies on Python&rsquo;s <code>set</code> ordering
for all other elements.</p><p>With both these tricks implemented (partial solutions and order fixing), I can get a Kropki generated in under 2 seconds on my laptop.</p><h1 id=tying-everything-together>Tying everything together</h1><p>Now that we have our algorithm, we just need a backend to expose Kropki generation and a frontend to visualize Kropkis &#x1f525;.</p><p>I wrote the server using FastAPI and the frontend with React, nothing special there. What I think it&rsquo;s worth mentioning is how I decided to encode Kropkis (both solved and playable). I named this encoding <em>Kropki Easy Notation</em> (KEN for short), a bit like <a class=link href=https://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation target=_blank rel=noopener>FEN</a> in chess. It&rsquo;s very simple: each row is delimited by <code>/</code>, and each cell has two possible encodings:</p><ul><li><code>N</code> if the cell has a value and no dots where <code>N</code> is the value inside</li><li><code>(Nbr)</code> if the cell has dots, where <code>N</code> is the value inside (omitted if not present), <code>b</code> is the encoding of the bottom dot and <code>r</code> is the encoding of the right dot</li></ul><p>Dots are always encoded, with <code>w</code> if the dot is white, <code>k</code> if the dot is black and <code>x</code> if the dot is not present.
Missing values are encoded using letters, from <code>A</code> corresponding to one empty cell, <code>B</code> corresponding to two consecutive empty cells, and so on until <code>H</code> (eight consecutive empty cells).</p><p>A generated Kropki might be like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>(wx)A(wx)(xw)(kx)D/B(xw)D(kw)A/(xw)(wk)A(ww)A(ww)C/(wx)(wx)(ww)A(xk)A(wx)(wx)A/(kx)B(kx)B(xw)A(wx)/(xw)A(xk)A(wx)(kx)(xw)(kx)A/B(wx)(xw)A(xw)A(xw)(kx)/(xw)(xk)C(kk)A(wk)A/B(xw)(xw)C(xw)
</span></span></code></pre></div><p>And has this solution:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>618327495/579814623/342569817/937648251/826175349/451293768/194786532/763952184/285431976
</span></span></code></pre></div><p>Viewable <a class=link href=https://kropki-gen.netlify.app/%28wx%29A%288wx%29%28xw%29%28kx%29D%2FB%28xw%298B6%28kw%293%2F%28xw%29%28wk%29A%28ww%29A%28ww%29C%2F%28wx%29%28wx%29%28ww%29A%284xk%29A%282wx%29%28wx%29A%2F%28kx%29B%28kx%29A5%28xw%29A%28wx%29%2F%28xw%295%28xk%29A%28wx%29%28kx%29%28xw%29%28kx%29A%2FB%28wx%29%28xw%29A%28xw%29A%28xw%29%282kx%29%2F%28xw%29%28xk%293A5%282kk%29A%288wk%29A%2FB%28xw%29%28xw%29C%287xw%296 target=_blank rel=noopener>here</a>. Or you can see the result here below:</p><p><img src=/post/generating-kropkis/generated_kropki.png width=858 height=854 srcset="/post/generating-kropkis/generated_kropki_hu_c329cd67457e465c.png 480w, /post/generating-kropkis/generated_kropki_hu_b16cfef916f2fc94.png 1024w" loading=lazy alt="Generated Kropki" class=gallery-image data-flex-grow=100 data-flex-basis=241px></p><p>Given that I found KEN, it followed naturally that the frontend would be named <a class=link href=https://en.wikipedia.org/wiki/Barbie_%28film%29 target=_blank rel=noopener>BARBIE</a> (Board A-star Based Interactive Explorer). I still haven&rsquo;t decided on what easter egg to include for <a class=link href=https://en.wikipedia.org/wiki/Oppenheimer_%28film%29 target=_blank rel=noopener><span style="font-family:Noto Color Emoji">&#x1f575;&#xfe0f;&#9883;&#xfe0f;</span></a> though.</p><p><a class=link href=https://kropki-gen.netlify.app target=_blank rel=noopener>And here it is!</a> It&rsquo;s deployed on Fly.io for the backend (free tier) and Netlify for the frontend (also free tier), so it might be a bit slow to generate kropkis the first time you do it (and currently the frontend does not have input fields to write numbers down). Happy Kropking! &#x1f389;</p><p>P.S.: If you want to check out the source code, you can get the generator <a class=link href=https://github.com/giovanniberti/kropki_gen target=_blank rel=noopener>here</a> and the frontend <a class=link href=https://github.com/giovanniberti/kropki_gen_fe target=_blank rel=noopener>here</a> &#x1f642;</p><blockquote><p>Featured photo by <a class=link href=https://unsplash.com/it/foto/d7M5Xramf8g target=_blank rel=noopener>Camille Minoufflet</a>.</p></blockquote><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Friendly Italian nickname for &ldquo;Adele&rdquo;&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><em>Kropki</em> means &ldquo;dots&rdquo; in Polish&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>To check for minimality we use the same model used for generation and add all dot constraints from the full solution, all remaining value constraints and remove one value constraint at a time. For each iteration we can ask the solver for two solutions and keep going if it can find more than one. If we don&rsquo;t finish the loop early it means that it&rsquo;s impossible to remove a value constraint while keeping uniqueness, meaning that the solution we found is minimal.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>This property is usually referred in other contexts as <em>sparsity</em>, with the twist that sparse solutions have many zeros instead of &ldquo;many holes&rdquo;&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-article");renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><script src=https://latest.cactus.chat/cactus.js crossorigin=anonymous></script><link rel=stylesheet href=https://latest.cactus.chat/style.css crossorigin=anonymous><style>.cactus-editor-textarea{color:var(--body-text-color)}.cactus-comment-header{color:var(--card-text-color-main)}.cactus-message-text>p{color:var(--body-text-color)}</style><div id=comment-section></div><script>initComments({node:document.getElementById("comment-section"),defaultHomeserverUrl:"https://matrix.cactus.chat:8448",serverName:"cactus.chat",siteName:"giovanniberti-github-io",commentSectionId:"03ac2b0a49b22acd3a5ab6108d4cf0b4"})</script><footer class=site-footer><section class=copyright>&copy;
2023 -
2025 Random Walks</section><section class=powerby>Made with ❤️ and a bit of 🧠<br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>